function DVelop_DVHorizontalMenu(){this.Menu;this.CollapsedTitle;this.ResizeWidth;this.Code;this.Cls;this.MenuType;this.MoreOptionEnabled;this.MoreOptionCaption;this.MoreOptionIcon;this.MoreOptionShowIconsOnInnerOptions;this.MoreOptionType;this.SetMenu=function(n){this.Menu=n};this.GetMenu=function(){};this.show=function(){var n,t;if(this.IsPostBack||this.Refresh(),!this.IsPostBack){if(n=this,this.MoreOptionEnabled&&this.Menu.length>0){$(window).resize(function(){n.UpdateMoreOption()});gx.fx.obs.addObserver("gx.onload",window,function(n){return function(){n.UpdateMoreOption()}}(this));$(window).on("load",function(){n.UpdateMoreOption()});gx.fx.obs.addObserver("gx.onafterevent",window,function(n){return function(){n.UpdateMoreOption()}}(this))}t=$(n.getContainerControl()).closest(".HorizontalStickyMenuHeaderCell");t.length==1&&(this.ScrollLimit=-1,$(window).scroll(function(){var i,r;t.hasClass("FixedHeader")?t.hasClass("FixedHeaderAddedDynamically")&&(i=$(this).scrollTop()<=n.ScrollLimit,i&&(t.parent().css("height",""),t.removeClass("FixedHeader"),$(".ElementInStickyMenuHeaderCell").each(function(){$(this).removeClass("FixedHeader")}))):(n.ScrollLimit=$(n.getContainerControl()).parent().offset().top+$(n.getContainerControl()).parent().height(),r=$(this).scrollTop()>n.ScrollLimit,r&&(t.parent().css("height",t.height()),t.addClass("FixedHeader FixedHeaderAddedDynamically"),$(".ElementInStickyMenuHeaderCell").each(function(){$(this).addClass("FixedHeader")})))}))}};this.Refresh=function(){var n=this;$(document).ready(function(t){var s=readCookie("DVelop_HMenuSelected"),f,e,r,o,u,h,i;if(s==null)for(f=0;f<n.Menu.length;f++)if(e=n.Menu[f],r=e.link,r!=null&&window.location.href.length>=r.length&&window.location.href.substring(window.location.href.length-r.length,window.location.href.length).toLowerCase()==r.toLowerCase()){s=e.id;createCookie("DVelop_HMenuSelected",e.id);break}o="slimmenu"+(new Date).getTime();u=n.processMenu(n.Menu,null,!0,!0,s);u==null&&(u="");n.MoreOptionEnabled&&n.MoreOptionType!="Slider"&&n.Menu.length>0&&(h=n.MoreOptionIcon!=""?'<i class="'+n.MoreOptionIcon+'"><\/i> ':"<i><\/i>",u+='<li class="moreOption"><a href="#">'+h+gx.getMessage(n.MoreOptionCaption)+"<\/a>"+n.processMenu(n.Menu,null,!1,n.MoreOptionShowIconsOnInnerOptions,null)+"<\/li>");i=new gx.text.stringBuffer;i.clear();n.MoreOptionEnabled&&n.MoreOptionType=="Slider"&&i.append("<div class='HorizontalMenuSilder'><div class='moveLeft MasterHeaderCell'><div class='moveLeftArrow'><\/div><\/div>");i.append('<ul class="slimmenu'+(n.Cls!=null&&n.Cls!=""?" "+n.Cls:"")+'" id="'+o+'">'+u+"<\/ul>");n.MoreOptionEnabled&&n.MoreOptionType=="Slider"&&i.append("<div class='moveRight MasterHeaderCell'><div class='moveRightArrow'><\/div><\/div>");n.getContainerControl().innerHTML=i.toString();t("#"+o).slimmenu({resizeWidth:n.ResizeWidth,collapserTitle:n.CollapsedTitle,animSpeed:0,indentChildren:!0,childrenIndenter:"&raquo;"});n.MoreOptionEnabled&&n.Menu.length>0&&(n.UpdateMoreOption(),n.MoreOptionType=="Slider"&&(t(".HorizontalMenuSilder>.moveRight").click(function(){var r=null,u=t(n.getContainerControl()).find(" ul.slimmenu > li:last-child()"),o=u.position().left+u.width(),i=t(n.getContainerControl()).find(" ul.slimmenu > li:first-child()"),f=t(n.getContainerControl()).find(".HorizontalMenuSilder").width(),e=parseInt(t(".HorizontalMenuSilder ul.slimmenu").css("left"),10),s=t(n.getContainerControl()).find(" ul.slimmenu > li").length;t(n.getContainerControl()).find(" ul.slimmenu > li").each(function(){return(r==null&&t(this).position().left>=e*-1&&(r=t(this)),f-e-(t(this).index()<s-1?t(".HorizontalMenuSilder>.moveRight").outerWidth():0)<t(this).position().left+t(this).width())?(i=t(this),!1):f-t(".HorizontalMenuSilder>.moveLeft").outerWidth()>=o-t(this).position().left?(i=t(this),!1):void 0});i[0]==r[0]&&i.next().length==1&&(i=i.next());n.sliderMoveTo(i)}),t(".HorizontalMenuSilder>.moveLeft").click(function(){var r=null,f=t(n.getContainerControl()).find(".HorizontalMenuSilder").width(),e=parseInt(t(".HorizontalMenuSilder ul.slimmenu").css("left"),10),i,u;t(n.getContainerControl()).find("ul.slimmenu > li").each(function(){if(t(this).position().left>e*-1)return r=t(this),!1});r!=null&&(i=t(n.getContainerControl()).find(" ul.slimmenu > li:first-child()"),u=t(n.getContainerControl()).find(" ul.slimmenu > li").length,t(n.getContainerControl()).find(" ul.slimmenu > li").each(function(){if(t(this).position().left+f-(t(this).index()>0?t(".HorizontalMenuSilder>.moveLeft").outerWidth():0)-(t(this).index()<u-1?t(".HorizontalMenuSilder>.moveRight").outerWidth():0)>r.position().left)return i=t(this),!1}),i[0]==r[0]&&i.prev().length==1&&(i=i.prev()),n.sliderMoveTo(i))}),t(".HorizontalMenuSilder ul.slimmenu").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){event!=null&&event.propertyName=="left"&&n.UpdateMoreOption()})));t("ul.slimmenu a").click(function(){t("#"+o).hasClass("collapsed")&&t(".collapse-button").click()});t(".smClick").click(function(){var i,r;n.ItemClick&&(i=t(this).attr("smcode"),t(n.getContainerControl()).find(" ul.slimmenu > li").removeClass("SelectedMenuItem"),t(this).closest("ul").hasClass("slimmenu")&&t(this).closest("li").addClass("SelectedMenuItem"),createCookie("DVelop_HMenuSelected",i),n.Code=i,n.ItemClick(),r=t(this).closest("li.has-submenu").get(0),r!=null&&t(r).find("ul").css("display","none"))});t(".smLink").click(function(){t(n.getContainerControl()).find(" ul.slimmenu > li").removeClass("SelectedMenuItem");t(this).closest("ul").hasClass("slimmenu")&&t(this).closest("li").addClass("SelectedMenuItem");createCookie("DVelop_HMenuSelected",t(this).attr("smcode"));var i=t(this).closest("li.has-submenu").get(0);i!=null&&t(i).find("ul").css("display","none")})})};this.sliderMoveTo=function(n){var t=n.position().left*-1;t<0&&(t+=$(".HorizontalMenuSilder>.moveLeft").outerWidth());$(".HorizontalMenuSilder").find("ul.slimmenu").css("left",t+"px")};this.processMenu=function(n,t,i,r,u){var e,o,f,h,s,c,l;if(typeof n=="object"&&n.length){if(i||this.MenuType!="Mega")for(e=[],o=0;o<n.length;o++)f=n[o],s=r&&f.iconClass!=""?'<i class="'+f.iconClass+'"><\/i> ':"<i><\/i>",l=i&&u!=null&&u!="0"&&f.id!=null&&u.trim()==f.id.trim()?' class="SelectedMenuItem"':"",f.link!=""?(h=f.linkTarget!=""?h=' target="'+f.linkTarget+'"':"",e.push("<li"+l+'><a href="'+f.link+'" '+h+" class='smLink' smcode='"+f.id+"' >"+s+gx.getMessage(f.caption)+"<\/a><\/li>")):f.subItems&&f.subItems.length>0?(e.push('<li><a href="#">'+s+gx.getMessage(f.caption)+"<\/a>"),e.push(this.processMenu(f.subItems,f.submenuImage,!1,r,u)),e.push("<\/li>")):e.push("<li"+l+'><a href="#" class="smClick" smcode="'+f.id+'" >'+s+gx.getMessage(f.caption)+"<\/a><\/li>");else e=[],c=t!=null&&t!="",c&&e.push('<li class="submenuImage"><img class="ObjectFitCover" src="'+t+'" ><\/li>'),e.push('<li style="" class="submenuOptions'+(c?"":" NoMenuImage")+'">'),this.processMenu_MegaAddItem(n,e,r),e.push("<\/li>");return i?e.join(""):"<ul>"+e.join("")+"<\/ul>"}};this.processMenu_MegaAddItem=function(n,t,i){for(var r,f,u=0;u<n.length;u++)t.push("<div>"),r=n[u],f=i&&r.iconClass!=""?'<i class="'+r.iconClass+'"><\/i> ':"<i><\/i>",r.link!=""?(e=r.linkTarget!=""?' target="'+r.linkTarget+'"':"",t.push('<a href="'+r.link+'" '+e+" class='smLink'>"+f+gx.getMessage(r.caption)+"<\/a>")):r.subItems&&r.subItems.length>0?(t.push('<div class="submenuTitle"><span>'+f+gx.getMessage(r.caption)+"<\/span><\/div>"),this.processMenu_MegaAddItem(r.subItems,t)):t.push('<a href="#" class="smClick" smcode="'+r.id+'" >'+f+gx.getMessage(r.caption)+"<\/a>"),t.push("<\/div>")};this.UpdateMoreOption=function(){var n=$(this.getContainerControl()),t,s,h,r,i,u,f,e,o;if(n.children().length>0)if(this.MoreOptionType=="Slider")t=parseInt(n.find("ul.slimmenu").css("left"),10),n.find(".HorizontalMenuSilder").toggleClass("NeedSliderRight",n.find(".HorizontalMenuSilder").width()-t<n.find("ul.slimmenu > li:last-child()").position().left+n.find("ul.slimmenu > li:last-child()").width()),n.find(".HorizontalMenuSilder").toggleClass("NeedSliderLeft",t<0),s=n.find(".HorizontalMenuSilder").width(),h=(t<0?$(".HorizontalMenuSilder>.moveLeft").outerWidth():0)+5,t=t*-1,n.find(" ul.slimmenu > li").each(function(){var n=$(this).position().left;$(this).toggleClass("hiddenInSlider",n<t||n>t+h&&n+$(this).width()-t>s)});else{for(r=n.find("> ul > li"),i=r.length-1,u=0;u<i;u++)$(r[u]).css("display","");if(f=$(r[i]),f.css("display","none"),e=f.find("> ul > li"+(this.MenuType=="Mega"?" > div":"")),e.each(function(){$(this).css("display","none")}),!n.find(">ul").hasClass("collapsed"))for(o=n.parent().parent().attr("data-gx-flex")=="";i>0&&(!o&&n.parent().offset().top>n.parent().parent().offset().top+parseInt(n.parent().parent().css("padding-top"))||o&&n.find(">ul").height()>n.parent().height());)f.css("display",""),$(r[i-1]).css("display","none"),$(e[i-1]).css("display",""),i--}}};$(window).one('load',function(){WWP_VV([['DVHorizontalMenu','14.1']]);});