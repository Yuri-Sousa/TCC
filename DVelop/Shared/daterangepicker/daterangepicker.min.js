/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/
(function(n,t){var i,r;typeof define=="function"&&define.amd?define(["moment","jquery"],function(n,i){return i.fn||(i.fn={}),typeof n!="function"&&n.hasOwnProperty("default")&&(n=n["default"]),t(n,i)}):typeof module=="object"&&module.exports?(i=typeof window!="undefined"?window.jQuery:undefined,i||(i=require("jquery"),i.fn||(i.fn={})),r=typeof window!="undefined"&&typeof window.moment!="undefined"?window.moment:require("moment"),module.exports=t(r,i)):n.daterangepicker=t(n.moment,n.jQuery)})(typeof window!="undefined"?window:this,function(n,t){var i=function(i,r,u){var y,f,o,e,c,v,s,h,a,l;if(this.parentEl="body",this.element=t(i),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=n().subtract(100,"year").format("YYYY"),this.maxYear=n().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.todayButtonClasses="btn-default btn-today",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:n.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",todayLabel:"Today",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof r!="object"||r===null)&&(r={}),r=t.extend(this.element.data(),r),typeof r.template=="string"||r.template instanceof t||(r.template='<div class="daterangepicker'+(r.style=="Dark"?" daterangepickerDark":"")+'"><div class="ranges"><\/div><div class="drp-calendar left"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-calendar right"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-buttons"><span class="drp-selected"><\/span><button class="todayBtn" type="button"><\/button><button class="cancelBtn" type="button"><\/button><button class="applyBtn" disabled="disabled" type="button"><\/button> <\/div><\/div>'),this.parentEl=r.parentEl&&t(r.parentEl).length?t(r.parentEl):t(this.parentEl),this.container=t(r.template).appendTo(this.parentEl),typeof r.locale=="object"&&(typeof r.locale.direction=="string"&&(this.locale.direction=r.locale.direction),typeof r.locale.format=="string"&&(this.locale.format=r.locale.format),typeof r.locale.separator=="string"&&(this.locale.separator=r.locale.separator),typeof r.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),typeof r.locale.monthNames=="object"&&(this.locale.monthNames=r.locale.monthNames.slice()),typeof r.locale.firstDay=="number"&&(this.locale.firstDay=r.locale.firstDay),typeof r.locale.applyLabel=="string"&&(this.locale.applyLabel=r.locale.applyLabel),typeof r.locale.todayLabel=="string"&&(this.locale.todayLabel=r.locale.todayLabel),typeof r.locale.cancelLabel=="string"&&(this.locale.cancelLabel=r.locale.cancelLabel),typeof r.locale.weekLabel=="string"&&(this.locale.weekLabel=r.locale.weekLabel),typeof r.locale.customRangeLabel=="string"&&(h=document.createElement("textarea"),h.innerHTML=r.locale.customRangeLabel,a=h.value,this.locale.customRangeLabel=a)),this.container.addClass(this.locale.direction),r.flatDisplay&&this.container.addClass("FlatDsp"),typeof r.startDate=="string"&&(this.startDate=n(r.startDate,this.locale.format)),typeof r.endDate=="string"&&(this.endDate=n(r.endDate,this.locale.format)),typeof r.minDate=="string"&&(this.minDate=n(r.minDate,this.locale.format)),typeof r.maxDate=="string"&&(this.maxDate=n(r.maxDate,this.locale.format)),typeof r.startDate=="object"&&(this.startDate=n(r.startDate)),typeof r.endDate=="object"&&(this.endDate=n(r.endDate)),typeof r.minDate=="object"&&(this.minDate=n(r.minDate)),typeof r.maxDate=="object"&&(this.maxDate=n(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof r.applyButtonClasses=="string"&&(this.applyButtonClasses=r.applyButtonClasses),typeof r.todayButtonClasses=="string"&&(this.todayButtonClasses=r.todayButtonClasses),typeof r.cancelButtonClasses=="string"&&(this.cancelButtonClasses=r.cancelButtonClasses),typeof r.maxSpan=="object"&&(this.maxSpan=r.maxSpan),typeof r.opens=="string"&&(this.opens=r.opens),typeof r.drops=="string"&&(this.drops=r.drops),typeof r.showWeekNumbers=="boolean"&&(this.showWeekNumbers=r.showWeekNumbers),typeof r.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=r.showISOWeekNumbers),typeof r.buttonClasses=="string"&&(this.buttonClasses=r.buttonClasses),typeof r.buttonClasses=="object"&&(this.buttonClasses=r.buttonClasses.join(" ")),typeof r.showDropdowns=="boolean"&&(this.showDropdowns=r.showDropdowns),typeof r.minYear=="number"&&(this.minYear=r.minYear),typeof r.maxYear=="number"&&(this.maxYear=r.maxYear),typeof r.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=r.showCustomRangeLabel),typeof r.singleDatePicker=="boolean"&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof r.timePicker=="boolean"&&(this.timePicker=r.timePicker),typeof r.timePickerSeconds=="boolean"&&(this.timePickerSeconds=r.timePickerSeconds),typeof r.timePickerIncrement=="number"&&(this.timePickerIncrement=r.timePickerIncrement),typeof r.timePicker24Hour=="boolean"&&(this.timePicker24Hour=r.timePicker24Hour),typeof r.autoApply=="boolean"&&(this.autoApply=r.autoApply),typeof r.autoUpdateInput=="boolean"&&(this.autoUpdateInput=r.autoUpdateInput),typeof r.linkedCalendars=="boolean"&&(this.linkedCalendars=r.linkedCalendars),typeof r.isInvalidDate=="function"&&(this.isInvalidDate=r.isInvalidDate),typeof r.isCustomDate=="function"&&(this.isCustomDate=r.isCustomDate),typeof r.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=r.alwaysShowCalendars),this.locale.firstDay!=0)for(y=this.locale.firstDay;y>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),y--;if(typeof r.startDate=="undefined"&&typeof r.endDate=="undefined"&&t(this.element).is(":text")&&(c=t(this.element).val(),v=c.split(this.locale.separator),f=o=null,v.length==2?(f=n(v[0],this.locale.format),o=n(v[1],this.locale.format)):this.singleDatePicker&&c!==""&&(f=n(c,this.locale.format),o=n(c,this.locale.format)),f!==null&&o!==null?(this.setStartDate(f),this.setEndDate(o),this.isNullVal=!1):(r.flatDisplay&&r.timePicker&&this.setStartDate(new Date),this.isNullVal=!0)),typeof r.ranges=="object"){for(e in r.ranges)(f=typeof r.ranges[e][0]=="string"?n(r.ranges[e][0],this.locale.format):n(r.ranges[e][0]),o=typeof r.ranges[e][1]=="string"?n(r.ranges[e][1],this.locale.format):n(r.ranges[e][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,this.maxSpan&&s&&f.clone().add(this.maxSpan).isAfter(s)&&(s=f.clone().add(this.maxSpan)),s&&o.isAfter(s)&&(o=s.clone()),this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||s&&f.isAfter(s,this.timepicker?"minute":"day"))||(h=document.createElement("textarea"),h.innerHTML=e,a=h.value,this.ranges[a]=[f,o]);l="<ul>";for(e in this.ranges)l+='<li data-range-key="'+e+'">'+e+"<\/li>";this.showCustomRangeLabel&&(l+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"<\/li>");l+="<\/ul>";this.container.find(".ranges").prepend(l)}typeof u=="function"&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&this.container.addClass("auto-apply");typeof r.ranges=="object"&&this.container.addClass("show-ranges");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply"));(typeof r.ranges=="undefined"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.container.find(".applyBtn, .todayBtn, .cancelBtn").addClass(this.buttonClasses);this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses);this.todayButtonClasses.length&&this.container.find(".todayBtn").addClass(this.todayButtonClasses);this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".todayBtn").html(this.locale.todayLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this));this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this));this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.todayBtn",t.proxy(this.clickToday,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this));if(this.element.is("input")||this.element.is("button"))this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)});else{this.element.on("click.daterangepicker",t.proxy(this.toggle,this));this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))}this.updateElement();this.optsLoaded=r.optsLoaded;this.optsLoaded||(this.settingsBeforeMerge=r.settingsBeforeMerge)};return i.prototype={constructor:i,setStartDate:function(t){typeof t=="string"&&(this.startDate=n(t,this.locale.format));typeof t=="object"&&(this.startDate=n(t));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(t){typeof t=="string"&&(this.endDate=n(t,this.locale.format));typeof t=="object"&&(this.endDate=n(t));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan));this.previousRightTime=this.endDate.clone();this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.optsLoaded||((this.settingsBeforeMerge==null||this.settingsBeforeMerge.minYear==null)&&(this.minYear=defaultWWPDateRangeSettings.minYear),(this.settingsBeforeMerge==null||this.settingsBeforeMerge.maxYear==null)&&(this.maxYear=defaultWWPDateRangeSettings.maxYear),(this.settingsBeforeMerge==null||this.settingsBeforeMerge.style==null)&&(this.style=defaultWWPDateRangeSettings.style,this.container.hasClass("daterangepickerDark")!=(this.style=="Dark")&&this.container.toggleClass("daterangepickerDark",this.style=="Dark")),this.optsLoaded=!0,delete this.settingsBeforeMerge);this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled"));this.endDate&&this.container.find(".drp-selected").html(this.isNullVal?"":this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,i,u,r,o,f,e;(this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),i=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),u=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||(r=this.container.find(".left .ampmselect").val(),r==="PM"&&t<12&&(t+=12),r==="AM"&&t===12&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),i=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),u=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||(r=this.container.find(".right .ampmselect").val(),r==="PM"&&t<12&&(t+=12),r==="AM"&&t===12&&(t=0))),this.leftCalendar.month.hour(t).minute(i).second(u),this.rightCalendar.month.hour(t).minute(i).second(u)),this.renderCalendar("left"),this.renderCalendar("right"),o=this.container.find("button.todayBtn"),f=this.container.find(".drp-calendar.left .calendar-table").find("td.today:not(.off)").length==1,!f&&(this.minDate||this.maxDate)&&(e=n(new Date).startOf("day"),(this.minDate&&e<this.minDate||this.maxDate&&e>this.maxDate||this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&e.clone().date(2).add(1,"month")>this.maxDate&&this.rightCalendar.month.isSame(this.maxDate.clone().date(2)))&&(f=!0)),o.css("display",f?"none":""),this.container.find(".ranges li").removeClass("active"),this.endDate!=null)&&this.calculateChosenLabel()},renderCalendar:function(i){var r=i=="left"?this.leftCalendar:this.rightCalendar,d=r.month.month(),g=r.month.year(),yt=r.month.hour(),et=r.month.minute(),ot=r.month.second(),pt=n([g,d]).daysInMonth(),w=n([g,d,1]),wt=n([g,d,pt]),st=n(w).subtract(1,"month").month(),ht=n(w).subtract(1,"month").year(),nt=n([ht,st]).daysInMonth(),ct=w.day(),r=[],v,y,tt,c,b,a,ut,f,u,o,p,k,ft,s;for(r.firstDay=w,r.lastDay=wt,s=0;s<6;s++)r[s]=[];v=nt-ct+this.locale.firstDay+1;v>nt&&(v-=7);ct==this.locale.firstDay&&(v=nt-6);y=n([ht,st,v,12,et,ot]);for(var s=0,u=0,f=0;s<42;s++,u++,y=n(y).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),r[f][u]=y.clone().hour(yt).minute(et).second(ot),y.hour(12),this.minDate&&r[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[f][u].isBefore(this.minDate)&&i=="left"&&(r[f][u]=this.minDate.clone()),this.maxDate&&r[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[f][u].isAfter(this.maxDate)&&i=="right"&&(r[f][u]=this.maxDate.clone());i=="left"?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var l=i=="left"?this.minDate:this.startDate,h=this.maxDate,dt=i=="left"?this.startDate:this.endDate,gt=this.locale.direction=="ltr"?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},e='<table class="table-condensed">';if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=l&&!l.isBefore(r.firstDay)||this.linkedCalendars&&i!="left"?"<th><\/th>":'<th class="prev available"><span><\/span><\/th>',tt=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY"),this.showDropdowns){var lt=r[1][1].month(),it=r[1][1].year(),at=h&&h.year()||this.maxYear,vt=l&&l.year()||this.minYear,bt=it==vt,kt=it==at,rt='<select class="monthselect">';for(c=0;c<12;c++)rt+=(!bt||l&&c>=l.month())&&(!kt||h&&c<=h.month())?"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+">"+this.locale.monthNames[c]+"<\/option>":"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[c]+"<\/option>";for(rt+="<\/select>",b='<select class="yearselect">',a=vt;a<=at;a++)b+='<option value="'+a+'"'+(a===it?' selected="selected"':"")+">"+a+"<\/option>";b+="<\/select>";tt=rt+b}for(e+='<th colspan="5" class="month">'+tt+"<\/th>",e+=(!h||h.isAfter(r.lastDay))&&(!this.linkedCalendars||i=="right"||this.singleDatePicker)?'<th class="next available"><span><\/span><\/th>':"<th><\/th>",e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),t.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",this.endDate==null&&this.maxSpan&&(ut=this.startDate.clone().add(this.maxSpan).endOf("day"),(!h||ut.isBefore(h))&&(h=ut)),f=0;f<6;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+r[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+r[f][0].isoWeek()+"<\/td>"),u=0;u<7;u++){for(o=[],r[f][u].isSame(new Date,"day")&&o.push("today"),r[f][u].isoWeekday()>5&&o.push("weekend"),r[f][u].month()!=r[1][1].month()&&o.push("off","ends"),this.minDate&&r[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled"),h&&r[f][u].isAfter(h,"day")&&o.push("off","disabled"),this.isInvalidDate(r[f][u])&&o.push("off","disabled"),this.isNullVal||r[f][u].format("YYYY-MM-DD")!=this.startDate.format("YYYY-MM-DD")||o.push("active","start-date"),this.isNullVal||this.endDate==null||r[f][u].format("YYYY-MM-DD")!=this.endDate.format("YYYY-MM-DD")||o.push("active","end-date"),this.endDate!=null&&r[f][u]>this.startDate&&r[f][u]<this.endDate&&o.push("in-range"),p=this.isCustomDate(r[f][u]),p!==!1&&(typeof p=="string"?o.push(p):Array.prototype.push.apply(o,p)),k="",ft=!1,s=0;s<o.length;s++)k+=o[s]+" ",o[s]=="disabled"&&(ft=!0);ft||(k+="available");e+='<td class="'+k.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+r[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".drp-calendar."+i+" .calendar-table").html(e)},renderTimePicker:function(n){var r,i,e,u,s,v,y,p,c,o,f,t,l,a;if(n!="right"||this.endDate){for(u=this.maxDate,this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(u=this.startDate.clone().add(this.maxSpan)),n=="left"?(i=this.startDate.clone(),e=this.minDate):n=="right"&&(i=this.endDate.clone(),e=this.startDate,s=this.container.find(".drp-calendar.right .calendar-time"),s.html()!=""&&(i.hour(isNaN(i.hour())?s.find(".hourselect option:selected").val():i.hour()),i.minute(isNaN(i.minute())?s.find(".minuteselect option:selected").val():i.minute()),i.second(isNaN(i.second())?s.find(".secondselect option:selected").val():i.second()),this.timePicker24Hour||(v=s.find(".ampmselect option:selected").val(),v==="PM"&&i.hour()<12&&i.hour(i.hour()+12),v==="AM"&&i.hour()===12&&i.hour(0))),i.isBefore(this.startDate)&&(i=this.startDate.clone()),u&&i.isAfter(u)&&(i=u.clone())),r='<select class="hourselect">',y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;t<=p;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?t==12?12:t+12:t==12?0:t),o=i.clone().hour(c),f=!1,e&&o.minute(59).isBefore(e)&&(f=!0),u&&o.minute(0).isAfter(u)&&(f=!0),r+=c!=i.hour()||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(r+="<\/select> ",r+=': <select class="minuteselect">',t=0;t<60;t+=this.timePickerIncrement){var h=t<10?"0"+t:t,o=i.clone().minute(t),f=!1;e&&o.second(59).isBefore(e)&&(f=!0);u&&o.second(0).isAfter(u)&&(f=!0);r+=i.minute()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}if(r+="<\/select> ",this.timePickerSeconds){for(r+=': <select class="secondselect">',t=0;t<60;t++){var h=t<10?"0"+t:t,o=i.clone().second(t),f=!1;e&&o.isBefore(e)&&(f=!0);u&&o.isAfter(u)&&(f=!0);r+=i.second()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}r+="<\/select> "}this.timePicker24Hour||(r+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),u&&i.clone().hour(0).minute(0).second(0).isAfter(u)&&(a=' disabled="disabled" class="disabled"'),r+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",r+="<\/select>");this.container.find(".drp-calendar."+n+" .calendar-time").html(r)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var i={top:0,left:0},n,f=this.drops,o=t(window).width(),u,e,r;this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},o=this.parentEl[0].clientWidth+this.parentEl.offset().left);switch(f){case"auto":n=this.element.offset().top+this.element.outerHeight()-i.top;n+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&this.element.offset().top-this.container.outerHeight()-i.top>i.top&&(n=this.element.offset().top-this.container.outerHeight()-i.top,f="up");break;case"up":n=this.element.offset().top-this.container.outerHeight()-i.top;break;default:n=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});u=this.container.outerWidth();this.container.toggleClass("drop-up",f=="up");this.opens=="left"?(e=o-this.element.offset().left-this.element.outerWidth(),u+e>t(window).width()?this.container.css({top:n,right:"auto",left:9}):this.container.css({top:n,right:e,left:"auto"})):this.opens=="center"?(r=this.element.offset().left-i.left+this.element.outerWidth()/2-u/2,r<0?this.container.css({top:n,right:"auto",left:9}):r+u>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:r,right:"auto"})):(r=this.element.offset().left-i.left,r+u>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:r,right:"auto"}))},show:function(n){if(this.isShowing||gx.csv.setFocusOnload&&gx.pO.getUserFocus()==this.element.attr("id")){this.lastIgnoredControl=this.element[0];return}try{throw new Error;}catch(n){if(n.stack.indexOf("at Popup.close")>=0){this.lastIgnoredControl=this.element[0];return}}if(n==null||n.type!="focus"||this.lastIgnoredControl==null||this.lastIgnoredControl!=this.element[0]){this.lastIgnoredControl=null;this._outsideClickProxy=t.proxy(function(n){this.outsideClick(n)},this);t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);t(window).on("resize.daterangepicker",t.proxy(function(n){this.move(n)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=!0}},checkValidRange:function(){this.startDate.isValid()&&this.endDate.isValid()||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone(),this.updateElement())},hide:function(n,i){(this.lastIgnoredControl=null,this.isShowing||this.flatDisplay)&&(this.endDate||this.clickCancel(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||(this.isNullVal=!1,this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel,n)),i||this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.flatDisplay||this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(n){this.isShowing?this.hide(n):this.show()},outsideClick:function(n){var i;if(!this.flatDisplay&&(i=t(n.target),n.type!="focusin"&&!i.closest(this.element).length&&!i.closest(this.container).length&&!i.closest(".calendar-table").length)){var u=!1,f=t(this.element).attr("wwp-drange-old-value"),r=t(this.element).val();f!==r&&r.indexOf("  /")<0?this.chosenLabel||(this.elementChanged(),t(this.element).attr("wwp-drange-old-value",r)):n.target&&(u=!0,this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone());this.hide(n,u);this.element.trigger("outsideClick.daterangepicker",this)}},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(n){var t=n.target.getAttribute("data-range-key"),i;this.chosenLabel=t;t==this.locale.customRangeLabel?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply(n))},clickPrev:function(n){var i=t(n.target).parents(".drp-calendar");i.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var i=t(n.target).parents(".drp-calendar");i.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(t(n.target).hasClass("available")){var i=t(n.target).attr("data-title"),r=i.substr(1,1),u=i.substr(3,1),e=t(n.target).parents(".drp-calendar"),f=e.hasClass("left")?this.leftCalendar.calendar[r][u]:this.rightCalendar.calendar[r][u],o=this.leftCalendar,s=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(n,i){if(!t(i).hasClass("week")){var u=t(i).attr("data-title"),e=u.substr(1,1),c=u.substr(3,1),l=t(i).parents(".drp-calendar"),r=l.hasClass("left")?o.calendar[e][c]:s.calendar[e][c];r.isAfter(h)&&r.isBefore(f)||r.isSame(f,"day")?t(i).addClass("in-range"):t(i).removeClass("in-range")}})}},clickDate:function(n){var i,f,u,e;if(t(n.target).hasClass("available")){var s=t(n.target).attr("data-title"),h=s.substr(1,1),c=s.substr(3,1),l=t(n.target).parents(".drp-calendar"),r=l.hasClass("left")?this.leftCalendar.calendar[h][c]:this.rightCalendar.calendar[h][c],o=!1;this.endDate||r.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||(f=this.container.find(".left .ampmselect").val(),f==="PM"&&i<12&&(i+=12),f==="AM"&&i===12&&(i=0)),u=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(e)),this.endDate=null,this.setStartDate(r.clone())):!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(f=this.container.find(".right .ampmselect").val(),f==="PM"&&i<12&&(i+=12),f==="AM"&&i===12&&(i=0)),u=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(e)),this.setEndDate(r.clone()),o=!0,this.autoApply&&(this.calculateChosenLabel(),this.clickApply(n)));this.singleDatePicker&&(this.setEndDate(this.startDate),o=!0,!this.timePicker&&this.autoApply&&this.clickApply(n));o&&(this.userSelectedValue=!0);this.isNullVal=!1;this.updateView();n.stopPropagation()}},calculateChosenLabel:function(){var i=!0,r=0,n,t;for(n in this.ranges){if(this.timePicker){if(t=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm",this.startDate.format(t)==this.ranges[n][0].format(t)&&this.endDate.format(t)==this.ranges[n][1].format(t)){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}r++}i&&(this.chosenLabel=this.showCustomRangeLabel?this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):null,this.showCalendars())},clickApply:function(n){this.hide(n);this.element.trigger("apply.daterangepicker",this);this.flatDisplay&&n!=null&&n.target!=null&&n.target.tagName=="BUTTON"&&this.updateView()},clickCancel:function(n){this.cancelClicked=!0;this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide(n);this.element.trigger("cancel.daterangepicker",this);delete this.cancelClicked;this.flatDisplay&&n!=null&&n.target!=null&&n.target.tagName=="BUTTON"&&this.updateView()},clickToday:function(){var t=n(new Date).startOf("day");this.leftCalendar.month=t.clone().date(2);this.rightCalendar.month=this.linkedCalendars||t.month()==t.month()&&t.year()==t.year()?t.clone().date(2).add(1,"month"):t.clone().date(2);this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"));this.updateCalendars()},monthOrYearChanged:function(n){var u=t(n.target).closest(".drp-calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".drp-calendar."+e),r=parseInt(f.find(".monthselect").val(),10),i=f.find(".yearselect").val();u||(i<this.startDate.year()||i==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),i=this.startDate.year());this.minDate&&(i<this.minDate.year()||i==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),i=this.minDate.year());this.maxDate&&(i>this.maxDate.year()||i==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),i=this.maxDate.year());u?(this.leftCalendar.month.month(r).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var r=t(n.target).closest(".drp-calendar"),h=r.hasClass("left"),u=parseInt(r.find(".hourselect").val(),10),e=parseInt(r.find(".minuteselect").val(),10),o,s,i,f;isNaN(e)&&(e=parseInt(r.find(".minuteselect option:last").val(),10));o=this.timePickerSeconds?parseInt(r.find(".secondselect").val(),10):0;this.timePicker24Hour||(s=r.find(".ampmselect").val(),s==="PM"&&u<12&&(u+=12),s==="AM"&&u===12&&(u=0));h?(i=this.startDate.clone(),i.hour(u),i.minute(e),i.second(o),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(u),f.minute(e),f.second(o),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")){var u=this.element.val().length,r=this.element.val().split(this.locale.separator),t=null,i=null;(r.length===2&&(t=n(r[0],this.locale.format,!0),i=n(r[1],this.locale.format,!0)),(this.singleDatePicker||t===null||i===null)&&(t=n(this.element.val(),this.locale.format),i=t),t.isValid()&&i.isValid())&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(n){(n.keyCode===9||n.keyCode===13)&&this.hide(n);n.keyCode===27&&(n.preventDefault(),n.stopPropagation(),this.hide(n))},updateElement:function(n){if(this.element.is("input")&&(this.autoUpdateInput||n)){var i=this.startDate.format(this.locale.format);this.singleDatePicker||(i+=this.locale.separator+this.endDate.format(this.locale.format));i!==this.element.val()&&this.element.val(i).trigger("change");t(this.element).next().find("#span_"+t(this.element).attr("id")).text(i);t(this.element).attr("wwp-drange-old-value",this.chosenLabel||this.element.val())}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},t.fn.daterangepicker=function(n,r){var u=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,n);return this.each(function(){var n=t(this),f;n.data("daterangepicker")&&n.data("daterangepicker").remove();n.data("daterangepicker",new i(n,u,r));f=0}),this},i});$(window).one('load',function(){WWP_VV([['WWP.DatePicker','14.1000'],['WWP.DateRangePicker','14.3']]);});