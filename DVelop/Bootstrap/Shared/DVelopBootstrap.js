function DVelopBootstrapPanel(n){this.control=n;this.containerName=n.ContainerName;this.header=n.ShowHeader;this.title=n.Title;this.render=function(){var o,l,e,h,i,r,b,a,y,c,u,k,v,p,d,f,s,n,w,g,nt,t;this.control.Collapsed=WWP_FixBooleanProperty(this.control.Collapsed);this.control.Collapsible=WWP_FixBooleanProperty(this.control.Collapsible);this.control.ShowCollapseIcon=WWP_FixBooleanProperty(this.control.ShowCollapseIcon);this.control.AutoScroll=WWP_FixBooleanProperty(this.control.AutoScroll);this.control.AutoWidth=WWP_FixBooleanProperty(this.control.AutoWidth);this.control.AutoHeight=WWP_FixBooleanProperty(this.control.AutoHeight);o=document.createElement("div");o.id="DVelopBootstrapPanel_"+this.containerName;o.className="panel";this.control.Cls&&(o.className+=" "+this.control.Cls);this.header&&(l=document.createElement("div"),l.id="PanelHeader_"+this.containerName,l.className="panel-heading",this.control.Cls&&(l.className+=" "+WWP_replaceAll(WWP_replaceAll(WWP_replaceAll(this.control.Cls.trim(),"  "," "),"  "," ")+" "," ","_Header ").trim()),e=document.createElement("h3"),e.className="panel-title",h=document.createElement("span"),h.id="Title_"+this.containerName,h.innerHTML=gx.getMessage(this.title),this.control.Collapsible?(i=document.createElement("a"),i.href="#PanelBody_"+this.containerName,i.className="accordion-toggle",i.setAttribute("data-parent","#PanelHeader_"+this.containerName),navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||i.setAttribute("data-toggle","collapse"),r=this.containerName,b=this,i.onclick=function(){$(this)[$("#PanelBody_"+r).hasClass("in")?"addClass":"removeClass"]("collapsed");$("#PanelBody_"+r).hasClass("in")?($("#"+r).addClass("main-panel-collapsed"),$("#PanelBody_"+r).collapse("hide"),b.control.Collapsed=!0):($("#"+r).removeClass("main-panel-collapsed"),$("#PanelBody_"+r).collapse("show"),b.control.Collapsed=!1);$("#"+r).parent().is("td")&&(navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7"))&&$(function(){$("#"+r).parent().height($("#"+r).height());$("#"+r).parent().css("vertical-align","top")});b.control.Collapsed||typeof SetMinWidthPaginationBars!="function"||SetMinWidthPaginationBars()},this.control.OnTitleClick&&$(i).bind("click",this.control.OnTitleClick),this.control.Collapsed&&(i.className+=" collapsed",$("#"+r).addClass("main-panel-collapsed")),this.control.ShowCollapseIcon?(a=document.createElement("div"),a.className="toggle-container",y=document.createElement("div"),y.id="Toggle_"+this.containerName,y.className="toggle-icon",i.appendChild(y),a.appendChild(i),this.control.IconPosition=="right"?(h.className="left",y.className+=" toggle-icon-right",e.appendChild(h),e.appendChild(a)):(this.title!=""&&(a.className+=" left"),e.appendChild(a),e.appendChild(h))):(i.appendChild(h),e.appendChild(i)),l.appendChild(e)):(e.appendChild(h),l.appendChild(e)),o.appendChild(l));c=document.createElement("div");c.id="PanelBody_"+this.containerName;c.className="panel-collapse";this.control.AutoScroll&&(c.className+=" panel-autoscroll");this.control.Cls&&(c.className+=" "+WWP_replaceAll(WWP_replaceAll(WWP_replaceAll(this.control.Cls.trim(),"  "," "),"  "," ")+" "," ","_Body ").trim());c.className+=this.control.Collapsed?" collapse":" in";u=document.getElementById(this.containerName+"Body");u||(k=this.control.getContainerControl().nextSibling,$(k).hasClass("gx_usercontrol_child")&&(v=k.id,p=this.control.getContainerControl().id,(WWP_startsWith(v,p)||v.length>5&&WWP_endsWith(p,v.substring(v.length-5))&&WWP_startsWith(v,p.substr(0,p.length-5)))&&(u=k)));u||(d=this.containerName.substring(this.containerName.length-5),u=document.getElementById(this.containerName.substring(0,this.containerName.length-5)+"Body"+d));u&&(u.className="panel-body",u.style.display="block",c.appendChild(u));o.appendChild(c);$("#"+this.containerName).addClass("panel-group");$("#"+this.containerName).append(o);this.control.AutoWidth||(f=this.control.Width,f.substring(f.length-1)=="%"?(o.style.width=f,$("#"+this.containerName).width(f)):o.style.width=f.substring(f.length-2)=="px"?f:f+"px");this.control.AutoHeight||(s=this.control.Height,s.substring(s.length-1)=="%"?(u.style.height=s,$("#"+this.containerName).height(s)):u.style.height=s.substring(s.length-2)=="px"?s:s+"px");this.control.Collapsible&&(this.control.AutoWidth||f.substring(f.length-1)=="%")&&(n=this,w=this.control.Width,this.control.Width.substring(this.control.Width.length-2)!="px"&&this.control.Width.substring(this.control.Width.length-1)!="%"&&(w=w+"px"),g=!this.control.AutoWidth,$(window).bind("load",function(){var t=$("#PanelBody_"+n.containerName),u,i,r;if($("#PanelBody_"+n.containerName).width()<=0)g?$("#PanelHeader_"+n.containerName).css("width",w):(u=$("#PanelBody_"+n.containerName).parent(),t.appendTo("body"),$("#PanelHeader_"+n.containerName).width()<t.width()&&(i=parseInt($("#PanelHeader_"+n.containerName).css("padding-left"))+parseInt($("#PanelHeader_"+n.containerName).css("padding-right")),r=t.width()-i,$("#PanelHeader_"+n.containerName).width(r),$(window).bind("resize",function(){var i=parseInt($("#PanelHeader_"+n.containerName).css("padding-left"))+parseInt($("#PanelHeader_"+n.containerName).css("padding-right")),r=t.width()-i;$("#PanelHeader_"+n.containerName).width(r)})),$("#PanelBody_"+n.containerName).remove(),u.append(t));else if($("#PanelHeader_"+n.containerName).width()<t.width())if($(window).width()-($("#"+n.containerName).position().left+t.width())<20)$("#PanelHeader_"+n.containerName).css("width",w);else{var t=$("#PanelBody_"+n.containerName),i=parseInt($("#PanelHeader_"+n.containerName).css("padding-left"))+parseInt($("#PanelHeader_"+n.containerName).css("padding-right")),r=t.width()-i;$("#PanelHeader_"+n.containerName).width(r);$(window).bind("resize",function(){var t=$("#PanelBody_"+n.containerName),i=parseInt($("#PanelHeader_"+n.containerName).css("padding-left"))+parseInt($("#PanelHeader_"+n.containerName).css("padding-right")),r=t.width()-i;$("#PanelHeader_"+n.containerName).width(r)})}}));nt=this.control;t=this.containerName;$(function(){var n=$("#"+t+" a.change-action").each(function(){$(this).click(function(){$("#DVelopBootstrapPanel_"+t).css("overflow","visible");$("#PanelBody_"+t).css("overflow","visible");$(".PopupBorder .PopupContent :button").each(function(){$(this).click(function(){$("#DVelopBootstrapPanel_"+t).css("overflow","");$("#PanelBody_"+t).css("overflow","")})});$(".PopupBorder .PopupHeaderButton").each(function(){$(this).click(function(){$("#DVelopBootstrapPanel_"+t).css("overflow","");$("#PanelBody_"+t).css("overflow","")})})})});nt.AutoScroll||$("#"+t).find(".dropdown-toggle").each(function(){$(this).click(function(){$(this).parent().hasClass("open")?$("#DVelopBootstrapPanel_"+t).css("overflow")=="visible"&&$("#DVelopBootstrapPanel_"+t).get(0).getAttribute("setH")=="T"&&($("#DVelopBootstrapPanel_"+t).css("overflow","hidden"),$("#DVelopBootstrapPanel_"+t).get(0).removeAttribute("setH")):$("#DVelopBootstrapPanel_"+t).css("overflow")=="hidden"&&($("#DVelopBootstrapPanel_"+t).get(0).setAttribute("setH","T"),$("#DVelopBootstrapPanel_"+t).css("overflow","visible"))});$("*").click(function(n){$(n.target.offsetParent).hasClass("dropdown-toggle")||$(n.target).hasClass("dropdown-toggle")||$("#DVelopBootstrapPanel_"+t).css("overflow")=="visible"&&$("#DVelopBootstrapPanel_"+t).get(0).getAttribute("setH")=="T"&&($("#DVelopBootstrapPanel_"+t).css("overflow","hidden"),$("#DVelopBootstrapPanel_"+t).get(0).removeAttribute("setH"))})})})};this.refresh=function(){$("#Title_"+this.containerName).html(gx.getMessage(this.control.Title))}}function DVelopBootstrapTabs(n){this.control=n;this.containerName=n.ContainerName;this.designTabs=JSON.parse(n.DesignTimeTabs);this.tabs=[];this.tabCount=0;this.openTabsCount=0;this.designTabs!=undefined&&this.designTabs.length!=undefined&&(this.tabCount=this.designTabs.length);for(var t=0;t<this.tabCount;t++)this.tabs[t]=new BootstrapTab(this.designTabs[t].id,this.containerName),this.openTabsCount+=1;this.render=function(){var n=document.createElement("ul"),e,s,c,v,o,i,h,l,t,u,a,f;for(n.id="DVelopBootstrapTabsContainer_"+this.containerName,n.className="nav nav-tabs",this.control.Cls&&(n.className+=" "+this.control.Cls),e=document.createElement("table"),e.className="tabs-table",s=document.createElement("div"),s.id="DVelopBootstrapTabsContent_"+this.containerName,s.className="tab-content",this.TabContainer=n,this.TabContent=s,this.TabsTable=e,c=0;c<this.tabCount;c++)v=this.designTabs[c],this.RenderTab(n,s,e,c,v,!1);o=$("#"+this.containerName);this.control.AutoWidth||(o.width(this.control.Width),e.style.width=this.control.Width.substring(this.control.Width.length-1)=="%"||this.control.Width.substring(this.control.Width.length-2)=="px"?this.control.Width:this.control.Width+"px");this.control.AutoScroll?o.addClass("tab-container-scroll"):o.addClass("tab-container");this.tabCount==0&&o.addClass("Tabs_NoTabs");i=$("body").css("direction")=="rtl";i&&o.addClass("Tabs_RTL");r=document.createElement("tr");h=document.createElement("td");l=this.control.ExcessiveTabsBehavior=="Slider";l?(t=document.createElement("div"),t.innerHTML='<div class="moveLeft"><div class="moveLeftArrow"><\/div><\/div><div class="moveRight"><div class="moveRightArrow"><\/div><\/div>',t.className="tabsSlider",t.appendChild(n),this.control.IncludeOptionsMenu?(u=document.createElement("div"),u.className="tabsMainContainer",u.innerHTML='<div class="dropdown tabsNavOptions dropdown-right"><button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><a href="#" closeOther><span>'+gx.getMessage(this.control.CloseOtherTabs)+'<\/span><\/a><\/li><li><a href="#" closeAll><span>'+gx.getMessage(this.control.CloseAllTabs)+"<\/span><\/a><\/li><\/ul>",u.appendChild(t),h.appendChild(u),$(u).find(".tabsNavOptions").bind("shown.bs.dropdown",function(){return function(){WWP_ddo_invertPosition($(u).find("ul")[0],$(u).find("button")[0])}}(this)).find("[closeAll]").click(function(){$(n).find(".close.closeTab").click()}),$(u).find("[closeOther]").click(function(){$(n).find("li:not(.active) .close.closeTab").click()})):h.appendChild(t)):h.appendChild(n);h.appendChild(s);r.appendChild(h);e.appendChild(r);o.append(e);a=i?"right":"left";f=this;l&&($(t).find(">.moveRight").click(function(){var u=null,s=$(n).find(">li:last-child()"),h=WWP_TabsLIPositionRight(i,s),r=$(n).find(">li:first-child()"),e=$(t).width(),o=parseInt($(n).css(a),10),c=$(n).find(">li").length;$(n).find(">li").each(function(){return(u==null&&WWP_TabsLIPositionLeft(i,$(this))>=o*-1&&(u=$(this)),f.ForceShowSelectedLI&&$(this).hasClass("active"))?(r=$(this),!1):!f.ForceShowSelectedLI&&e-o-($(this).index()<c-1?$(t).find(">.moveRight").width():0)<WWP_TabsLIPositionRight(i,$(this))||e-$(t).find(">.moveLeft").width()-1>=h-WWP_TabsLIPositionLeft(i,$(this))?(r=$(this),!1):void 0});r[0]==u[0]&&r.next().length==1&&(r=r.next());f.SliderMoveTo(t,r,i)}),$(t).find(">.moveLeft").click(function(){var e,s,o,r,h;if(f.ForceShowSelectedLI)r=$(n).find(">li.active"),e=$(n).find(">li:last-child()"),r[0]==e[0]&&(s=WWP_TabsLIPositionRight(i,e),o=$(t).width(),$(n).find(">li").each(function(){if(o-$(t).find(">.moveLeft").width()-1>=s-WWP_TabsLIPositionLeft(i,$(this)))return r=$(this),!1})),f.SliderMoveTo(t,r,i);else{var u=$(n).find(">li:first-child()"),o=$(t).width(),c=parseInt($(n).css(a),10);$(n).find(">li").each(function(){if(WWP_TabsLIPositionLeft(i,$(this))>=c*-1)return u=$(this),!1});u!=null&&(r=$(n).find(">li:first-child()"),h=$(n).find(">li").length,$(n).find(">li").each(function(){if(WWP_TabsLIPositionLeft(i,$(this))+o-($(this).index()>0?$(t).find(">.moveLeft").width():0)-($(this).index()<h-1?$(t).find(">.moveRight").width():0)>WWP_TabsLIPositionLeft(i,u))return r=$(this),!1}),r[0]==u[0]&&r.prev().length==1&&(r=r.prev()),f.SliderMoveTo(t,r,i))}}),$(n).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.UpdateSlider()}));$(function(){f.loadTabHeaders()})};this.SliderMoveTo=function(n,t,i){this.ForceShowSelectedLI=!1;var r=WWP_TabsLIPositionLeft(i,t)*-1;r<0&&(r+=$(n).find(">.moveLeft").width());$(n).toggleClass("NeedSliderLeft",r<0);$(this.TabContainer).css(i?"right":"left",r+"px")};this.UpdateSlider=function(){var t=$("body").css("direction")=="rtl",i=parseInt($(this.TabContainer).css(t?"right":"left"),10),n=$(this.TabContainer).parent(),r=!$("#"+this.containerName).hasClass("Tabs_NoTabs"),u;r?(n.length>0&&(n.toggleClass("NeedSliderRight",r&&n.width()-i<WWP_TabsLIPositionRight(t,$(this.TabContainer).find(">li:last-child()"))),n.toggleClass("NeedSliderLeft",r&&i<0)),this.ForceShowSelectedLI&&(u=$(this.TabContainer).find(">li.active"),n.width()-i<WWP_TabsLIPositionRight(t,u)?$(this.TabContainer).parent().find(">.moveRight").click():i<WWP_TabsLIPositionLeft(t,u)*-1?$(this.TabContainer).parent().find(">.moveLeft").click():this.ForceShowSelectedLI=!1)):(n.toggleClass("NeedSliderRight",!1),n.toggleClass("NeedSliderLeft",!1))};this.RenderTab=function(n,t,i,r,u,f){var l=!1,h,s,c,o,e;this.control.SelectedTabIndex==r&&(l=!0);h=document.createElement("li");h.id=this.containerName+"_"+u.id;s=document.createElement("a");s.href="#"+this.containerName+u.id;s.setAttribute("data-toggle","tab");f&&(c=document.createElement("div"),c.setAttribute("id",this.containerName+"Title"+u.id),c.style.display="block",s.appendChild(c));(navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7"))&&(s.style.minHeight="22px");o=document.getElementById(this.containerName+u.id);o.style.display="";o.className="tab-pane fade";this.control.AutoHeight||(e=this.control.Height,e.substring(e.length-1)=="%"||e.substring(e.length-2)=="px"?(o.style.height=e,i.style.height=e):(o.style.height=e+"px",i.style.height=e+"px"));l&&(this.setActiveTabId(u.id),h.className="active",o.className+=" active in");h.appendChild(s);n.appendChild(h);t.appendChild(o)};this.loadTabHeaders=function(){for(var f,e,n,r=0,t=0;t<this.tabCount;t++){var n=this.getTab(this.designTabs[t].id),u=$("#"+this.containerName+"_"+n.id+" a:first-child"),i=$("#"+this.containerName+"Title"+n.id);i.css("display","block");i.height()>r&&(r=i.height());u.append(i);n.title!=""&&n.setTitle(n.title,!1,this);n.show||n.hideTab();f=this;e=n.id;u.bind("click",function(n){return function(){f.setActiveTabId(n)}}(e));this.control.TabClicked&&u.bind("click",this.control.TabClicked)}for(t=0;t<this.tabCount;t++)n=this.getTab(this.designTabs[t].id),n.setHeightToTab(r);$("#"+this.containerName).parent().is("td")&&(navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7"))&&($("#"+this.containerName).parent().css("_min-height: auto !important;"),$("#"+this.containerName).parent().css("_height: auto !important;"))};this.setActiveTabId=function(n){this.control.ActiveTabId=n;$("#"+this.containerName).parent().is("td")&&(navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7"))&&($("#"+this.containerName).parent().css("_min-height: auto !important;"),$("#"+this.containerName).parent().css("_height: auto !important;"))};this.setActiveTabWhenHideClose=function(n){var i=this.getTabIndex(n),t;if(i!=null){for(t=i+1;t<this.openTabsCount;t++)if(this.tabs[t].show&&!this.tabs[t].closed){this.SelectTab(this.tabs[t].id);return}for(t=i-1;t>=0;t--)if(this.tabs[t].show&&!this.tabs[t].closed){this.SelectTab(this.tabs[t].id);return}}for(t=0;t<this.openTabsCount;t++)if(i!=t&&this.tabs[t].show&&!this.tabs[t].closed){this.SelectTab(this.tabs[t].id);break}};this.getTab=function(n){for(var t=0;t<this.openTabsCount;t++)if(n==this.tabs[t].id)return this.tabs[t];return null};this.getTabIndex=function(n){for(var t=0;t<this.openTabsCount;t++)if(n==this.tabs[t].id)return t};this.setTabTitle=function(n,t){var i=this.getTab(n);i&&i.setTitle(t,!1,this)};this.setIFrameTabTitle=function(n,t){var i=this.getTab(n);i&&i.setTitle(t,!0,this)};this.GetIFrameTabIdByUrl=function(n){var i,t,r;if(this.IFrameId!=null){for(i=1;i<=this.IFrameId;i++)if(t=document.getElementById(this.containerName+"IFrameTab"+i),t!=null&&t.childNodes.length>0&&t.childNodes[0].tagName=="IFRAME"&&(t.childNodes[0].getAttribute("src")==n||WWP_endsWith(t.childNodes[0].getAttribute("src"),"/"+n)))return"IFrameTab"+i;if(r=WWP_transformParametersStyleToPositional(n),r!=n)return this.GetIFrameTabIdByUrl(r)}return null};this.HasIFrameTab=function(){if(this.IFrameId!=null)for(var n=1;n<=this.IFrameId;n++)if(document.getElementById(this.containerName+"IFrameTab"+n))return!0;return!1};this.UpdateIFrameTabCaption=function(n,t){var i=this.GetIFrameTabIdByUrl(n);i!=null&&(this.setIFrameTabTitle(i,t),this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider()))};this.ReplaceIFrameTab=function(n,t,i){var f=this.GetIFrameTabIdByUrl(n),u,r;f!=null&&(u=document.getElementById(this.containerName+f),u.removeChild(u.childNodes[0]),r=document.createElement("iframe"),r.setAttribute("src",t),r.urlHist=[],$(r).bind("load",function(){this.WWPUtils!=null&&this.WWPUtils.updateCurrentTab_ReturnUrl();this.urlHist.push(this.contentWindow.location+"")}),u.appendChild(r),r.onload=function(){$(this.contentDocument).find("html").addClass("TabsIFrame")},this.setIFrameTabTitle(f,i),this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider()))};this.CloseIFrameTab=function(n){var t=this.GetIFrameTabIdByUrl(n);t!=null&&(this.removeIFrameTab(t),this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider()))};this.addIFrameTab=function(n,t){var u,r,e,o,h;if(this.IFrameId==null)this.IFrameId=0;else if(u=this.GetIFrameTabIdByUrl(n),u!=null){this.SelectTab(u);this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider());return}this.IFrameId++;$("#"+this.containerName).removeClass("Tabs_NoTabs");var s={id:"IFrameTab"+this.IFrameId},i=s.id,f=document.createElement("div");f.setAttribute("id",this.containerName+i);r=document.createElement("iframe");r.setAttribute("src",n);r.urlHist=[];$(r).bind("load",function(){this.WWPUtils!=null&&this.WWPUtils.updateCurrentTab_ReturnUrl();this.urlHist.push(this.contentWindow.location+"")});f.appendChild(r);r.onload=function(){$(this.contentDocument).find("html").addClass("TabsIFrame")};this.TabContent.appendChild(f);this.RenderTab(this.TabContainer,this.TabContent,this.TabsTable,-1,s,!0);e=new BootstrapTab(i,this.containerName);this.tabs[this.openTabsCount]=e;this.openTabsCount+=1;e.setTitle(t,!0,this);this.SelectTab(i);this.setActiveTabId(i);o=$("#"+this.containerName+"_"+i+" a:first-child");h=this;o.bind("click",function(n){return function(){h.setActiveTabId(n)}}(i));this.control.TabClicked&&o.bind("click",this.control.TabClicked);this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider())};this.SelectTab=function(n){var t=this.getTab(n),i;t&&(t.show||t.showTab(),i=$("#"+this.containerName+"_"+t.id+" a:first-child"),i.trigger("click"))};this.showTab=function(n){var t=this.getTab(n);t&&t.showTab()};this.removeIFrameTab=function(n){var t,i;this.hideTabById(n);t=document.getElementById(this.containerName+n);t!=null&&t.parentNode.removeChild(t);i=document.getElementById(this.containerName+"_"+n);i!=null&&i.parentNode.removeChild(i);this.control.ActiveTabId==n&&this.setActiveTabWhenHideClose(n);this.designTabs!=null&&this.designTabs.length!=0||this.HasIFrameTab()||$("#"+this.containerName).addClass("Tabs_NoTabs");this.control.ExcessiveTabsBehavior=="Slider"&&(this.ForceShowSelectedLI=!0,this.UpdateSlider())};this.hideTabById=function(n){var t=this.getTab(n);t&&(t.hideTab(),this.control.ActiveTabId==n&&this.setActiveTabWhenHideClose(n))};this.hideTabByIndex=function(n){if(n<this.tabs.length){var t=this.tabs[n];t&&(t.hideTab(),this.control.ActiveTabId==t.id&&this.setActiveTabWhenHideClose(t.id))}}}function BootstrapTab(n,t){this.containerName=t;this.id=n;this.title="";this.show=!0;this.closed=!1;this.setTitle=function(n,t,i){var r,e,f,u,o,s;this.title=gx.getMessage(n);r=$("#"+this.containerName+"_"+this.id+" a:first-child span:first-child");r.length!=0?r[0].childNodes.length>1?r.contents().filter(function(){return this.nodeType==Node.TEXT_NODE})[0].textContent=this.title:r.text(this.title):(e=$("#"+this.containerName+"Title"+this.id),e.length!=0&&(f=document.createElement("span"),f.innerText=this.title,e.prepend(f),t&&(u=document.createElement("button"),u.setAttribute("class","close closeTab"),u.innerHTML="×",o=i,s=this.id,$(u).bind("click",function(n){o.removeIFrameTab(s);n.preventDefault();n.stopPropagation()}),f.appendChild(u))))};this.setHeightToTab=function(n){$("#"+this.containerName+"Title"+this.id).height(n)};this.showTab=function(){var n,t;this.show=!0;n=$("#"+this.containerName+"_"+this.id);n.css("display","block");t=$("#"+this.containerName+this.id);t.css("display","block")};this.hideTab=function(){var n,t;this.show=!1;n=$("#"+this.containerName+"_"+this.id);n.css("display","none");t=$("#"+this.containerName+this.id);t.css("display","none")};this.closeTab=function(){this.closed=!0}}function DVelopBootstrapConfirmPanel(n){this.control=n;this.containerName=n.ContainerName;this.render=function(){var i=$("#"+this.containerName),s,r,h,a,u,f,c,e,t,l,n;if(i.addClass("modal fade"),this.control.Class!=""&&i.addClass(this.control.Class),i.attr("tabindex","-1"),i.attr("role","dialog"),i.attr("aria-labelledby",this.containerName+"_Title"),i.attr("aria-hidden","true"),i.attr("data-backdrop","static"),this.ConfirmTypeRendered=this.control.ConfirmType,s=document.createElement("div"),s.className="modal-dialog",r=document.createElement("div"),r.className="modal-content",h=document.createElement("div"),h.className="modal-header",a=this.createButton("CloseButton","close","&times",2),a.setAttribute("aria-hidden","true"),u=document.createElement("h4"),u.id=this.containerName+"_Title",u.className="modal-title",f=document.createElement("div"),this.control.TextType==1?u.innerText=gx.getMessage(this.control.Title):u.innerHTML=gx.getMessage(this.control.Title),c=document.createElement("span"),this.control.BodyType=="WebComponent"?(f.className="modal-body modal-body-wc",$(r).css({width:this.control.Width.trim()}),$(s).addClass("modal-dialog-wc")):(f.className="modal-body",c.id=this.containerName+"_ConfirmationText",this.control.TextType==1?c.innerText=gx.getMessage(this.control.ConfirmationText):c.innerHTML=gx.getMessage(this.control.ConfirmationText)),e=document.getElementById(this.control.BodyType!="WebComponent"&&this.control.BodyContentInternalName!=""?this.control.BodyContentInternalName:this.containerName+"Body"),e=e==null?document.createElement(this.containerName+"Body"):e,e.style.display="block",t=document.createElement("div"),l=this.control.ConfirmType!=""&&this.control.ConfirmType!="NoButtons",l){t.className="modal-footer";var w=this.createButton("SaveButton","btn btn-primary btn-yes-DVelop",this.control.YesButtonCaption,this.control.TextType),v,y,p=this.control.ConfirmType=="1"||this.control.ConfirmType=="YesNo",o=this.control.ConfirmType=="2"||this.control.ConfirmType=="YesNoCancel";(p||o)&&(v=this.createButton("DismissButton","btn btn-default btn-no-DVelop",this.control.NoButtonCaption,this.control.TextType));o&&(y=this.createButton("CancelButton","btn btn-default btn-cancel-DVelop",this.control.CancelButtonCaption,this.control.TextType));this.control.YesButtonPosition=="right"?(o&&t.appendChild(y),(p||o)&&t.appendChild(v),t.appendChild(w)):(t.appendChild(w),(p||o)&&t.appendChild(v),o&&t.appendChild(y))}h.appendChild(a);h.appendChild(u);this.control.BodyType!="WebComponent"&&f.appendChild(c);f.appendChild(e);r.appendChild(h);r.appendChild(f);l&&r.appendChild(t);s.appendChild(r);i.append(s);n=this;$(function(){var u=$("#"+n.containerName+"_CloseButton"),t,i,r;n.bindClickHandlers(u,"Close",null,n.control.Close);l&&(t=$("#"+n.containerName+"_SaveButton"),n.bindClickHandlers(t,"Yes",n.control.onYes,n.control.Close),(n.control.ConfirmType=="1"||n.control.ConfirmType=="2")&&(i=$("#"+n.containerName+"_DismissButton"),n.bindClickHandlers(i,"No",n.control.onNo,n.control.Close)),n.control.ConfirmType=="2"&&(r=$("#"+n.containerName+"_CancelButton"),n.bindClickHandlers(r,"Cancel",n.control.onCancel,n.control.Close)))})};this.createButton=function(n,t,i,r){var u=document.createElement("button");return u.id=this.containerName+"_"+n,u.className=t,u.setAttribute("type","button"),(n!="CloseButton"||$(".modal.modal-loading").length==0)&&u.setAttribute("data-dismiss","modal"),r==1?u.innerText=gx.getMessage(i):u.innerHTML=gx.getMessage(i),u};this.bindClickHandlers=function(n,t,i,r){var f=this,u=this;n.bind("click",function(t){return function(){u.control.BodyType=="WebComponent"&&(t=$(n).data("close-result")||"");f.setResult(t);$(this).attr("data-dismiss")==null&&$("#"+u.containerName).modal("hide")}}(t));i&&n.bind("click",i);r&&n.bind("click",r)};this.setResult=function(n){this.control.Result=n};this.openModal=function(){var i=$("#"+this.containerName).unbind(),r,t,u,n;if(this.ConfirmTypeRendered!=this.control.ConfirmType?(i.html(""),this.render()):this.control.TextType==1?($("#"+this.containerName+"_Title").text(gx.getMessage(this.control.Title)),$("#"+this.containerName+"_ConfirmationText").text(gx.getMessage(this.control.ConfirmationText))):($("#"+this.containerName+"_Title").html(gx.getMessage(this.control.Title)),$("#"+this.containerName+"_ConfirmationText").html(gx.getMessage(this.control.ConfirmationText))),r=$(".modal.modal-loading").length>0,this.control.BodyType=="WebComponent"){if(n=this,t=null,!r){t=$("<div><\/div>");t.addClass("modal modal-loading fade");t.attr("tabindex","-2");t.attr("role","dialog");t.attr("aria-labelledby","Title");t.attr("aria-hidden","true");t.attr("data-backdrop","static");t.html('<div class="modal-dialog" style="padding-top: 15%;"><div class="WCD_Loading" style="color:white;text-align: center;"><i class="fas fa-spinner fa-spin" style="font-size: 30px;"><\/i><\/div><\/div>');$(t).data("wwpUC",this);delete this.confirmPanel_wcRenderHandler;t.modal("show").on("hide.bs.modal",function(){n.confirmPanel_wcRenderHandler!=null&&(gx.fx.obs.deleteObserver("webcom.render",window,n.confirmPanel_wcRenderHandler),delete n.confirmPanel_wcRenderHandler)}).on("hidden.bs.modal",function(){t.remove();t=null})}var e=$("#"+this.containerName+"Body")[0],o=WWP_getWCId("DIV_WWPAUXWC",this.control),f=WWP_moveWCToDiv(o,this.control,!1,e);if(window.setTimeout(function(){if(n.confirmPanel_wcRenderHandler!=null){r?$("#"+n.containerName).modal({backdrop:!1}):$("#"+n.containerName).modal("show");var t=n.confirmPanel_wcRenderHandler;delete n.confirmPanel_wcRenderHandler;window.setTimeout(function(){gx.fx.obs.deleteObserver("webcom.render",window,t)},1)}},5e3),f.html(""),this.confirmPanel_wcRenderHandler=function(t){if(t.containerControl==f[0]&&n.confirmPanel_wcRenderHandler!=null){WWPActions_Properties.CurrentModal=n.containerName;r?$("#"+n.containerName).modal({backdrop:!1}):$("#"+n.containerName).modal("show");var i=n.confirmPanel_wcRenderHandler;delete n.confirmPanel_wcRenderHandler;window.setTimeout(function(){gx.fx.obs.deleteObserver("webcom.render",window,i)},1)}},gx.fx.obs.addObserver("webcom.render",window,this.confirmPanel_wcRenderHandler),this.control.OnLoadComponent!=null){if(r){for(u=i;u.length>0;)u=u.parent().closest(".gx_usercontrol.modal").css("display","none");$(".modal.modal-loading .WCD_Loading").css("display","")}this.control.OnLoadComponent()}i.on("show.bs.modal",function(){var r,i;for($(t).find(".WCD_Loading").css("display","none"),r=$(this).find(">.modal-dialog-wc"),$(this).css("display","block"),i=$(this);i.length>0;)i=i.parent().closest(".gx_usercontrol.modal").css("display","block");for(n.screenResize(),$(this).css("display","none"),i=$(this);i.length>0;)i=i.parent().closest(".gx_usercontrol.modal").css("display","none")}).on("hide.bs.modal",function(){if(t!=null){var n=!1;$(this).find(".gx_usercontrol.modal").each(function(){if($(this).css("display")!="none")return n=!0,!1});n||t.modal("hide")}}).on("hidden.bs.modal",function(){$(this).css("display")=="none"&&(f.html(""),$(document).find(">html>body").addClass("modal-open"),WWPActions_Properties.CurrentModal=$(this).closest(".modal-dialog-wc").parent().attr("id"),WWPActions_Properties.CurrentModal==null&&$(document).find(">html>body").removeClass("modal-open").css("padding-right",""),t!=null&&t.modal("hide"))}).on("shown.bs.modal",function(){if($(document).find(">html>body").addClass("modal-open"),r)for(var n=$(this);n.length>0;)n=n.parent().closest(".gx_usercontrol.modal").css("display","block")})}else{i.modal("show");n=this;i.on("shown.bs.modal",function(){if(n.control.Comment!="No"){if(r)for(var t=$(this);t.length>0;)t=t.parent().closest(".gx_usercontrol.modal").css("display","block");$(this).find(".ConfirmComment").focus();n.control.Comment=="Required"&&i.find(".ConfirmComment").trigger("keyup")}else i.find(".modal-footer button.btn-yes-DVelop").focus()});this.control.Comment=="Required"&&i.find(".ConfirmComment").off("keyup").keyup(function(){i.find(".modal-footer button:not(.btn-cancel-DVelop)").prop("disabled",$(this).val()=="")});i.find(".modal-footer button").off("keydown").keydown(function(n){n.which==13&&(n.stopPropagation(),n.preventDefault(),$(this).click())})}};this.closeModal=function(){$("#"+this.containerName).modal("hide")};this.destroy=function(){$("#"+this.containerName).modal("hide")};this.screenResize=function(){var n=$("#"+this.containerName).find(">.modal-dialog-wc"),t=n.find(">div").height(),i=this.control.Height.replace("px",""),e;i==""+parseInt(i)&&(t=Math.max(t,parseInt(i)));var r=$(window).height(),u=Math.min(Math.max(10,(r-t)/2),r/5),f=10;n.css({"padding-top":u,"padding-bottom":f,"margin-top":0,"margin-bottom":0});e=n.find(">div>.modal-header").outerHeight()+u+f;n.find(">div>.modal-body-wc").css("max-height","calc(100vh - "+e+"px)")}}function DVelopBootstrapDropDownOptions(n){this.control=n;this.containerName=n.ContainerName;this.containerToDrawName=this.containerName;this.myT=null;this.calendarOpened=!1;this.dateFilterVarName="";this.m_UlDropDown;this.m_triggerButton;this.SelectedValue_getAUX="";this.SelectedText_getAUX="";this.ColumnsSelectorData_Aux;this.IsDate=function(){return this.control.FilterType=="Date"};this.getGridItemSelectedValue=function(){var t=$("#"+this.realId),n=t.val();return n=="0"&&t.attr("type")=="number"&&(n=""),n};this.render=function(){var n,ri,wt,yi,pt,pi,wi,sr,bt,hr,ot,c,bi,ki,di,kt,r,it,b,k,st,t,gi,l,ht,a,nr,at,ui,tr,fi,ir,ei,d,dt,gt,ni,oi,si,ti,rt,ii,ut,hi,ft,ct,vt,s,et,i,rr,lt,ci,ur,y,yt,e,h,w,g,li,ai,v,fr,f,nt,vi,er,tt,or;if(this.control.IsGridItem?(this.control.Enabled=this.isEnabled(),this.control.ContainerName="DVC_"+this.realId,this.containerName=this.control.ContainerName,this.control.SelectedValue=this.getGridItemSelectedValue(),this.control.SelectedText=this.realSelectedText!=null?this.realSelectedText:"",this.control.VisibleVal=!0):(this.control.Enabled=WWP_FixBooleanProperty(this.control.Enabled),this.control.VisibleVal=WWP_FixBooleanProperty(this.control.Visible)),this.control.IncludeAddNewOption=WWP_FixBooleanProperty(this.control.IncludeAddNewOption),this.control.IncludeOnlySelectedOption=WWP_FixBooleanProperty(this.control.IncludeOnlySelectedOption),this.control.IncludeSelectAllOption=WWP_FixBooleanProperty(this.control.IncludeSelectAllOption),this.control.EmptyItem=WWP_FixBooleanProperty(this.control.EmptyItem),this.control.IncludeFilter=WWP_FixBooleanProperty(this.control.IncludeFilter),this.control.FilterIsRange=WWP_FixBooleanProperty(this.control.FilterIsRange),this.control.FilterIsRangePicker=WWP_FixBooleanProperty(this.control.FilterIsRangePicker),this.control.IncludeDataList=WWP_FixBooleanProperty(this.control.IncludeDataList),this.control.IncludeSortASC=WWP_FixBooleanProperty(this.control.IncludeSortASC),this.control.IncludeSortDSC=WWP_FixBooleanProperty(this.control.IncludeSortDSC),this.control.AllowGroup=WWP_FixBooleanProperty(this.control.AllowGroup),this.control.AllowMultipleSelection=WWP_FixBooleanProperty(this.control.AllowMultipleSelection),this.control.AllowMultipleSelection=this.control.AllowMultipleSelection&&(this.control.IncludeDataList||this.control.DropDownOptionsType=="ExtendedComboBox"),this.control.IncludeDataList&&this.control.DataListType.indexOf("Dynamic")==0&&this.control.DataListProc.trim()==""&&(this.control.IncludeDataList=!1),this.control.IncludeOnlySelectedOption=this.control.IncludeOnlySelectedOption&&this.control.AllowMultipleSelection,this.control.IncludeSelectAllOption=this.control.IncludeSelectAllOption&&this.control.AllowMultipleSelection,this.control.AllowMultipleSelection&&(this.control.MultipleValuesSeparator=this.control.MultipleValuesSeparator==""?wwp.labels.MultipleValuesSeparator:this.control.MultipleValuesSeparator,this.control.SelectedValue_get==""&&(this.control.SelectedValue_get="[]",this.control.SelectedText_get="[]")),this.control.FilterIsRange&&this.control.DataListType=="Dynamic (with fixedValues)"&&(this.control.FilterIsRange=!1),this.control.DropDownOptionsTitleSettingsIcons_IsFI=this.control.DropDownOptionsTitleSettingsIcons!=null&&this.control.DropDownOptionsTitleSettingsIcons.def!=null&&this.control.DropDownOptionsTitleSettingsIcons.def.length>0,this.control.TitleControlIdToReplace!=""?(this.containerToDrawName=this.control.IsGridItem?this.control.ContainerName:this.control.TitleControlIdToReplace,n=$("#"+this.containerToDrawName),this.control.VisibleVal=this.control.Visible&&(this.control.DropDownOptionsType=="GridTitleSettings"?n.closest("th"):n).css("display")!="none",ri=!1,n.length==0?(wt=document.getElementsByName(this.containerToDrawName),wt.length==1?wt[0].nodeName=="INPUT"?(ri=!0,pt=wt[0]):wt[0].setAttribute("id",this.containerToDrawName):this.control.DropDownOptionsType=="GridTitleSettings"&&WWP_startsWith(this.containerToDrawName.toLowerCase(),this.GetWebComponentPrefix().toLowerCase()+"grid_")&&(yi=$("#"+this.GetWebComponentPrefix()+"GridContainerDiv").find("thead").find("#"+this.containerToDrawName.substring(this.GetWebComponentPrefix().length+4)),yi.length==1&&yi[0].setAttribute("id",this.containerToDrawName))):n[0].nodeName=="INPUT"&&(ri=!0,pt=n[0]),ri&&(pi=pt.parentElement,wi=document.createElement("div"),wi.setAttribute("id",this.containerToDrawName),pi.insertBefore(wi,pt),pi.removeChild(pt),n=$("#"+this.containerToDrawName))):n=$("#"+this.containerToDrawName),this.control.DropDownOptionsType=="Component"&&n.children().length>0&&this.control.Visible){this.control.Icon.length>0&&(sr=$(this.m_triggerButton).find(">"+(this.control.IconType=="Image"?"img":"i")),sr.attr(this.control.IconType=="Image"?"src":"class",this.control.Icon));$(this.m_triggerButton).find(">span:not(.caret)").first().text(this.control.Caption);return}if(bt=[],this.control.DropDownOptionsType=="ExtendedComboBox"&&n.find(".ErrorMessages").each(function(){bt.push($(this).text())}),hr=$(document.activeElement).parent()[0]==n[0],n.html(""),n.unbind(),!this.control.Visible){this.control.Cls.indexOf("open")==-1&&n.removeClass("open");return}if(ot=this,this.control.DropDownOptionsType=="ExtendedComboBox"){this.control.SelectedText!=""||this.control.AllowMultipleSelection&&this.control.SelectedValue==""||(this.control.SelectedValue==""&&this.control.EmptyItem?this.control.SelectedText=gx.getMessage(this.control.EmptyItemText):this.loadExtendedComboSelectedText(this.control.DropDownOptionsData,null,!0));n.off("hide.bs.dropdown").on("hide.bs.dropdown",function(n){return function(){return n.OnDDOClosingRemoveError()}}(this));n.keydown(function(t){if(t.which==40)n.hasClass("open")?document.activeElement!=null&&(document.activeElement==ot.m_filterInput?(n.find(".FilterOptions >ul>li:visible").first().find(">a").focus(),t.stopPropagation(),t.preventDefault()):$(document.activeElement).parent().parent().parent().hasClass("FilterOptions")&&($(document.activeElement).parent().nextAll("*:visible").first().find(">a").focus(),t.stopPropagation(),t.preventDefault())):(n.find(">button").click(),t.stopPropagation(),t.preventDefault());else if(t.which==38){if(document.activeElement!=null)if(document.activeElement==ot.m_filterInput)n.removeClass("open"),n.find(">button").focus();else if($(document.activeElement).parent().parent().parent().hasClass("FilterOptions")){var i=$(document.activeElement).parent().prevAll("*:visible").first();i.length==0?$(ot.m_filterInput).focus():i.find(">a").focus();t.stopPropagation();t.preventDefault()}}else t.which==27&&n.hasClass("open")&&(document.activeElement==null||n.find(document.activeElement).length==1)&&(n.removeClass("open"),ot.control.AllowMultipleSelection&&ot.control.OnOptionClicked&&ot.control.OnOptionClicked(),n.find(">button").focus())})}if(this.control.Enabled||this.control.DropDownOptionsType!="ExtendedComboBox"){for(n.removeClass("ReadonlyExtendedCombo"),n.addClass(this.control.Cls),(n.parent().parent().parent().css("text-align")=="right"||n.parent().parent().parent().css("text-align")=="end")&&n.parent().addClass(this.control.Cls+"AlignTitleRight"),n.addClass("drop-down-options btn-group"),r=document.createElement("button"),it=this.containerName+"_btnGroupDrop",r.id=it,r.className="btn btn-default dropdown-toggle",r.setAttribute("type","button"),r.setAttribute("data-toggle","dropdown"),b=null,k=null,this.control.UseAsGridTitleSetting&&(this.control.DropDownOptionsTitleSettingsIcons==null&&(this.control.DropDownOptionsTitleSettingsIcons={}),st=!1,this.control.AllowMultipleSelection&&this.control.TitleControlIdToReplace==""||(st=this.control.IncludeDataList&&!this.IsValueEmpty(this.control.SelectedValue)||this.control.IncludeFilter&&(!this.IsValueEmpty(this.control.FilteredText)||this.control.FilterIsRange&&!this.IsValueEmpty(this.control.FilteredTextTo))||this.control.SelectedFixedFilter!=""),b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.Default),k=this.control.DropDownOptionsTitleSettingsIcons.def,this.control.IncludeSortASC&&(this.control.SortedStatus=="ASC"||this.control.SortedStatus=="ASC GRP")?st?(b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.FilteredSortedASC),k=this.control.DropDownOptionsTitleSettingsIcons.fasc,$(r).addClass("FilteredSortedASC")):(b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SortedASC),k=this.control.DropDownOptionsTitleSettingsIcons.asc,$(r).addClass("SortedASC")):this.control.IncludeSortDSC&&(this.control.SortedStatus=="DSC"||this.control.SortedStatus=="DSC GRP")?st?(b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.FilteredSortedDSC),k=this.control.DropDownOptionsTitleSettingsIcons.fdsc,$(r).addClass("FilteredSortedDSC")):(b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SortedDSC),k=this.control.DropDownOptionsTitleSettingsIcons.dsc,$(r).addClass("SortedDSC")):st&&(b=gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.Filtered),k=this.control.DropDownOptionsTitleSettingsIcons.fil,$(r).addClass("Filtered"))),this.control.Tooltip.length>0&&r.setAttribute("title",gx.getMessage(this.control.Tooltip)),t=document.createElement("ul"),t.className="dropdown-menu",t.setAttribute("role","menu"),t.setAttribute("aria-labelledby",this.containerName+"_btnGroupDrop"),gi=!1,l=0;this.control.DropDownOptionsData!=null&&l<this.control.DropDownOptionsData.length;l+=1)if(this.control.DropDownOptionsData[l].Icon!=null&&this.control.DropDownOptionsData[l].Icon.length>0||this.control.DropDownOptionsData[l].FontIcon!=null&&this.control.DropDownOptionsData[l].FontIcon.length>0){gi=!0;break}if(this.m_UlDropDown=t,this.m_triggerButton=r,this.control.TitleControlAlign!="Right"&&n.bind("shown.bs.dropdown",function(n){return function(){n.control.TitleControlAlign=="Automatic"?WWP_dropdownAutoPosition("#"+n.containerToDrawName,t,r):WWP_ddo_invertPosition(t,r)}}(this)),n.bind("hidden.bs.dropdown",function(n){return function(){n.setSectionGridMinHeight(!1);n.shiftPageFooter(!1)}}(this)),this.control.DropDownOptionsType=="Component"&&this.DDComponentHide(n),n.bind("shown.bs.dropdown",function(t){return function(i){var u,r;$("#"+t.containerToDrawName).attr("class").indexOf(" open")!=-1&&(t.control.DropDownOptionsType=="Component"&&(i==null||i.target==n[0])&&t.DDComponentShown(n),t.setSectionGridMinHeight(!0),t.shiftPageFooter(!0),t.applyDateFocusHack&&(u=$("#"+t.GetDateFilterVariable()).get(0),$(u).focus(),t.HasWWPDatePicker&&$(u).data("daterangepicker").hide(),$(t.m_triggerButton).focus()),t.m_filterInput!=null&&(r=$(t.m_filterInput).data("daterangepicker"),r!=null?(r.isShowing=!0,gx.fn.setFocus(t.m_filterInput,function(){r.isShowing=!1})):$(t.m_filterInput).focus()))}}(this)),this.control.DropDownOptionsType=="ExtendedComboBox"){if(this.extendedComboBoxLoaded=!1,$(r).bind("click",function(n,t){return function(){$("#"+n.containerToDrawName).attr("class").indexOf(" open")==-1&&(n.control.IsGridItem&&(n.control.SelectedValue=n.getGridItemSelectedValue()),n.loadExtendedComboBox(t),n.updateExtendedComboList(n.extendedComboBox_UL,""),n.m_filterInput!=null&&$(n.m_filterInput).val(""))}}(this,t)),this.control.AllowMultipleSelection&&this.control.OnOptionClicked)n.off("hide.bs.dropdown").on("hide.bs.dropdown",this.control.OnOptionClicked);this.control.IsGridItem}else for(l=0;this.control.DropDownOptionsData!=null&&l<this.control.DropDownOptionsData.length;l+=1){var u=this.control.DropDownOptionsData[l],e=document.createElement("li"),o=null,p=null;u.IsDivider?l<this.control.DropDownOptionsData.length-1?(e.className="divider",$(e).bind("click",function(n){n.preventDefault();n.stopPropagation()})):e=null:u.EventKey=="<#RawHTML#>"?$(e).html(u.Title):u.EventKey=="<#FilterOptions#>"?(ht=document.createElement("li"),st||$(ht).css("display","none"),a=document.createElement("a"),nr=document.createElement("span"),nr.innerHTML=gx.getMessage(this.control.CleanFilter),$(a).bind("click",function(n){return function(){n.IsDate()&&(n.control.FilterIsRange&&n.control.FilterIsRangePicker?n.DetachAuxDateVariable(n.GetRangePickerFilterVariable()):(n.DetachAuxDateVariable(n.GetDateFilterVariable()+"_dp_container"),n.control.FilterIsRange&&n.DetachAuxDateVariable(n.GetDateFilterVariableTo()+"_dp_container")));n.SetActiveEventKey("<#Filter#>");n.SetFilteredText("");n.control.FilterIsRange&&n.SetFilteredTextTo("");var t="";n.control.AllowMultipleSelection&&(t="[]");n.SetSelectedValue(t);n.SetSelectedText(t)}}(this)),this.control.OnOptionClicked&&(this.IsDate()&&$(a).bind("click",function(n){return function(){n.calendarOpened=!1}}(this)),$(a).bind("click",this.control.OnOptionClicked)),a.setAttribute("href",DDO_GetLocalURL()),navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||a.setAttribute("data-toggle","dropdown"),a.className="image",a.setAttribute("style","margin-bottom:10px"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(at=document.createElement("i"),at.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.cle),a.appendChild(at)):(at=document.createElement("img"),at.setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.OptionCleanFilters)),a.appendChild(at)),a.appendChild(nr),ht.appendChild(a),t.appendChild(ht),st&&(ui=document.createElement("li"),ui.className="divider",$(ui).bind("click",function(n){n.preventDefault();n.stopPropagation()}),t.appendChild(ui)),this.control.FixedFilters.trim()!=""&&(tr=document.createElement("li"),t.appendChild(tr),this.LoadFixedFilters(tr),fi=document.createElement("li"),fi.className="divider",$(fi).bind("click",function(n){n.preventDefault();n.stopPropagation()}),t.appendChild(fi)),this.control.AllowMultipleSelection&&(this.SelectedValue_getAUX=this.control.SelectedValue_get!=null&&this.control.SelectedValue_get!=""?JSON.parse(this.control.SelectedValue_get):[],this.SelectedText_getAUX=this.control.SelectedText_get!=null&&this.control.SelectedText_get!=""?JSON.parse(this.control.SelectedText_get):[]),this.control.IncludeFilter&&(ir=document.createElement("li"),h=document.createElement("div"),h.setAttribute("style","display: block; margin-right:10px;margin-left:10px;padding-bottom:10px"),ei=!0,d="search_"+this.control.ControlName,this.IsDate()?(dt=document.createElement("div"),dt.setAttribute("id",this.control.ControlName+"DateDiv"),dt.setAttribute("class",this.control.FilterIsRange&&this.control.FilterIsRangePicker?"ColumnSettingsRangePickerContainerDiv":"ColumnSettingsRangeContainerDiv"),this.control.FilterIsRange&&!this.control.FilterIsRangePicker?(gt=document.createElement("div"),gt.setAttribute("class","ColumnSettingsRangeContainer"),rt=document.createElement("span"),rt.setAttribute("class","ColumnSettingsRangeContainerSpan"),rt.innerHTML=gx.getMessage(this.control.RangeFilterFrom),h.appendChild(gt),gt.appendChild(rt),gt.appendChild(dt),$(t).css("min-width","195px")):h.appendChild(dt),this.control.FilterIsRange&&!this.control.FilterIsRangePicker&&(ni=document.createElement("div"),ni.setAttribute("class","ColumnSettingsRangeContainer"),ut=document.createElement("span"),ut.setAttribute("class","ColumnSettingsRangeContainerSpan"),ut.innerHTML=gx.getMessage(this.control.RangeFilterTo),h.appendChild(ni),ni.appendChild(ut),oi=document.createElement("div"),oi.setAttribute("id",this.control.ControlName+"DateDivTo"),oi.setAttribute("class","ColumnSettingsRangeContainerDiv"),ni.appendChild(oi))):(si=!1,this.control.FilterIsRange?(ti=document.createElement("div"),ti.setAttribute("class","ColumnSettingsRangeContainer"),rt=document.createElement("span"),rt.setAttribute("class","ColumnSettingsRangeContainerSpan"),rt.innerHTML=gx.getMessage(this.control.RangeFilterFrom),ti.appendChild(rt),h.appendChild(ti),o=document.createElement("input"),ti.appendChild(o),$(t).css("min-width","197px")):(w=document.createElement("div"),w.setAttribute("class","gx-attribute"),w.setAttribute("style","margin-right:10px"),g=document.createElement("div"),g.setAttribute("class","input-group"),w.appendChild(g),h.appendChild(w),ei=!1,o=document.createElement("input"),g.appendChild(o)),this.control.FilterIsRange&&(ii=document.createElement("div"),ii.setAttribute("class","ColumnSettingsRangeContainer"),ut=document.createElement("span"),ut.setAttribute("class","ColumnSettingsRangeContainerSpan"),ut.innerHTML=gx.getMessage(this.control.RangeFilterTo),ii.appendChild(ut),h.appendChild(ii),p=document.createElement("input"),ii.appendChild(p),this.CreateFilterInput(this.control.FilteredTextTo,e,p,o,p,!0,d,it),si=!0),this.CreateFilterInput(this.control.FilteredText,e,o,o,p,si,d,it)),this.control.IncludeDataList&&(this.control.DataListType!="Dynamic"||this.control.TitleControlIdToReplace=="")||(f=document.createElement("input"),ei?(f.setAttribute("id",d),f.setAttribute("type","button"),f.setAttribute("value",gx.getMessage(this.control.SearchButtonText)),f.setAttribute("class","btn btn-default Button"),$(f).bind("click",function(n){return function(){var i,t;n.SetActiveEventKey("<#Filter#>");n.IsDate()?(n.SetSelectedValue(""),n.SetSelectedText(""),n.control.FilterIsRange&&n.control.FilterIsRangePicker?(n.DetachAuxDateVariable(n.GetRangePickerFilterVariable()),i=$("#"+n.GetRangePickerFilterVariable()),i.val()==""?(n.SetFilteredText(""),n.SetFilteredTextTo("")):(t=i.data("daterangepicker"),n.SetFilteredText(t.startDate.format(t.locale.format)),n.SetFilteredTextTo(t.endDate.format(t.locale.format)))):(n.DetachAuxDateVariable(n.GetDateFilterVariable()+"_dp_container"),n.SetFilteredText($("#"+n.GetDateFilterVariable()).val()),n.control.FilterIsRange&&(n.DetachAuxDateVariable(n.GetDateFilterVariableTo()+"_dp_container"),n.SetFilteredTextTo($("#"+n.GetDateFilterVariableTo()).val())))):n.control.AllowMultipleSelection?(n.SetSelectedValue(JSON.stringify(n.SelectedValue_getAUX,null,2)),n.SetSelectedText(JSON.stringify(n.SelectedText_getAUX,null,2))):(n.SetSelectedValue(""),n.SetSelectedText(""),n.SetFilteredText($(o).val()),n.control.FilterIsRange&&(n.DetachAuxDateVariable(n.GetDateFilterVariableTo()+"_dp_container"),n.SetFilteredTextTo($(p).val())))}}(this)),this.control.OnOptionClicked&&$(f).bind("click",this.control.OnOptionClicked),navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||f.setAttribute("data-toggle","dropdown"),h.appendChild(f)):(hi=document.createElement("span"),hi.setAttribute("class","input-group-btn"),g.appendChild(hi),ft=document.createElement("a"),ft.setAttribute("id",d),ft.setAttribute("class","btn btn-default"),hi.appendChild(ft),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(ct=document.createElement("i"),ct.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.app),ft.appendChild(ct)):(ct=document.createElement("img"),ct.setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.OptionApplyFilter)),ct.setAttribute("class","Image"),ft.appendChild(ct)),$(ft).bind("click",function(n){return function(){n.SetActiveEventKey("<#Filter#>");var t="";n.control.AllowMultipleSelection&&(t="[]");n.SetSelectedValue(t);n.SetSelectedText(t);n.SetFilteredText($(o).val());n.control.FilterIsRange&&(n.DetachAuxDateVariable(n.GetDateFilterVariableTo()+"_dp_container"),n.SetFilteredTextTo($(p).val()))}}(this)),this.control.OnOptionClicked&&$(ft).bind("click",this.control.OnOptionClicked))),ir.appendChild(h),t.appendChild(ir)),this.control.IncludeDataList&&this.control.DataListType=="FixedValues"&&this.LoadListFixedValues(e,!1),vt=e,this.control.AllowMultipleSelection&&(f=document.createElement("input"),f.setAttribute("type","button"),f.setAttribute("value",gx.getMessage(this.control.SearchButtonText)),f.setAttribute("class","btn btn-default Button"),f.setAttribute("data-toggle","dropdown"),$(f).bind("click",function(n){return function(){n.SetActiveEventKey("<#Filter#>");n.SetSelectedValue(JSON.stringify(n.SelectedValue_getAUX,null,2));n.SetSelectedText(JSON.stringify(n.SelectedText_getAUX,null,2));n.SetFilteredText("")}}(this)),this.control.OnOptionClicked&&$(f).bind("click",this.control.OnOptionClicked),v=document.createElement("li"),v.setAttribute("class","LiFilterSelected"),v.appendChild(f),t.appendChild(e),e=null,t.appendChild(v)),t.children.length>0&&t.children[t.children.length-1].className=="divider"&&t.removeChild(t.children[t.children.length-1]),$(r).bind("click",function(n){return function(){var i,r,u,f,t,e;if($("#"+n.containerToDrawName).attr("class").indexOf(" open")==-1){if(n.control.AllowMultipleSelection){n.SelectedValue_getAUX=n.control.SelectedValue_get!=null&&n.control.SelectedValue_get!=""?JSON.parse(n.control.SelectedValue_get):[];n.SelectedText_getAUX=n.control.SelectedText_get!=null&&n.control.SelectedText_get!=""?JSON.parse(n.control.SelectedText_get):[];try{if($("#"+n.containerToDrawName).parent().next().children()[0].childNodes[1].className=="bootstrap-tagsinput"&&(u=$("#"+n.containerToDrawName).parent().next().children()[0].childNodes[1],$(u).css("min-width")=="0px")){$(u).css("min-width","150px");$("#"+n.containerToDrawName).off("hide.bs.dropdown").on("hide.bs.dropdown",function(){return function(){return $(u).css("min-width","0px"),!0}}(n))}}catch(e){}}if(n.control.IncludeFilter)if(n.IsDate()){$("#"+n.containerToDrawName).off("hide.bs.dropdown").on("hide.bs.dropdown",function(n){return function(){return n.OnDDOClosing()}}(n));if(n.control.FilteredText==""&&!n.control.FilterIsRangePicker)for(f=$("#"+n.GetDateFilterVariable()).get(0),n.control.FilteredText=$(f).val(),t=0;t<10;t+=1)n.control.FilteredText=WWP_replaceAll(n.control.FilteredText,t.toString()," ");if(r=null,n.control.FilterIsRangePicker)i=n.AttachAuxRangePickerVariable(ht,n.GetRangePickerFilterVariable(),n.control.ControlName+"DateDiv",n.control.FilteredText,n.control.FilteredTextTo,d,it);else if(i=n.AttachAuxDateVariable(ht,n.GetDateFilterVariable(),n.control.ControlName+"DateDiv",n.control.FilteredText,d,it),n.control.FilterIsRange){if(n.control.FilteredTextTo=="")for(f=$("#"+n.GetDateFilterVariable()).get(0),n.control.FilteredTextTo=$(f).val(),t=0;t<10;t+=1)n.control.FilteredTextTo=WWP_replaceAll(n.control.FilteredTextTo,t.toString()," ");r=n.AttachAuxDateVariable(ht,n.GetDateFilterVariableTo(),n.control.ControlName+"DateDivTo",n.control.FilteredTextTo,d,it)}n.m_filterInput=i}else n.m_filterInput=o,i=o,r=null,n.control.IncludeDataList&&n.control.DataListType=="FixedValues"?($(o).val(""),n.control.AllowMultipleSelection?n.LoadListFixedValues(vt,!0):n.updateFixedValuesList2(vt,"")):(e=n.control.FilteredText.trim(),n.control.DataListType=="Dynamic (with fixedValues)"?$(o).val(""):$(o).val(e)),n.control.FilterIsRange&&($(p).val(n.control.FilteredTextTo.trim()),r=p);else(n.reloadListFixedValuesOnDDOOpen||n.includeFirstSelectedItem)&&(n.control.AllowMultipleSelection?n.LoadListFixedValues(vt,!0):n.updateFixedValuesList2(vt,""));n.control.IncludeDataList&&n.control.DataListType.indexOf("Dynamic")==0&&n.updateFilterList(vt,i,r,!1)}}}(this))):(s=document.createElement("a"),et=document.createElement("span"),$(et).text(u.Title),this.control.UseAsGridTitleSetting&&(this.control.IncludeSortASC&&u.EventKey=="<#OrderASC#>"&&(this.control.SortedStatus=="ASC"||this.control.SortedStatus=="ASC GRP")||this.control.IncludeSortASC&&u.EventKey=="<#Group#>"&&(this.control.SortedStatus=="ASC GRP"||this.control.SortedStatus=="DSC GRP")||this.control.IncludeSortDSC&&u.EventKey=="<#OrderDSC#>"&&(this.control.SortedStatus=="DSC"||this.control.SortedStatus=="DSC GRP")||u.EventKey=="<#FixLeft#>"&&n.closest("th").hasClass("FixedColumnL")||u.EventKey=="<#FixRight#>"&&n.closest("th").hasClass("FixedColumnR"))&&(et.innerHTML="<strong>"+et.innerHTML+"<\/strong>"),i=this,rr=u.JSonclickEvent,rr.length>0&&$(s).bind("click",function(n){return function(t){var r=eval(n);r||(t.stopImmediatePropagation(),$("#"+i.containerToDrawName).removeClass("open"))}}(rr)),u.Link.length>0?s.setAttribute("href",u.Link):(s.setAttribute("href",DDO_GetLocalURL()),navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||s.setAttribute("data-toggle","dropdown"),lt=u.EventKey,lt=="<#FixLeft#>"||lt=="<#FixRight#>"?i.control.IsM&&$(s).bind("click",function(n){return function(){var t=WWP_GetEmpowerer(i.control.MControl);t!=null&&t.FixColumn($(this).closest("th").data("colIndex"),n=="<#FixLeft#>")}}(lt)):lt=="<#ADV#>"?(ci=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1).replace(".aspx","")+"_ADVF",ur=readCookie(ci),ur!=null&&ur!=""&&$("#ADVANCEDFILTERSCONTAINER").parent().addClass("CellAdvancedFiltersVisible").css("display","block"),y=u.Title,y.indexOf("|")>0&&$(et).text($("#ADVANCEDFILTERSCONTAINER").parent().css("display")=="none"?y.substring(0,y.indexOf("|")):y.substring(y.indexOf("|")+1)),$(s).bind("click",function(n,t){return function(){var n=$("#ADVANCEDFILTERSCONTAINER").parent(),i=n.hasClass("CellAdvancedFiltersVisible");n.toggleClass("CellAdvancedFiltersVisible",!i);i?(createCookie(ci,""),n.slideUp(200)):(createCookie(ci,"V"),n.slideDown(200));y.indexOf("|")>0&&$(t).text(i?y.substring(0,y.indexOf("|")):y.substring(y.indexOf("|")+1))}}(lt,et))):($(s).bind("click",function(n){return function(){i.control.IncludeDataList&&i.ajaxCall!=null&&i.ajaxCall.abort();i.control.IncludeDataList&&i.ajaxCall2!=null&&i.ajaxCall2.abort();i.control.IsM&&(n=="<#OrderASC#>"||n=="<#OrderDSC#>"||n=="<#Group#>")&&(i.control.MControl.SelectedValue_get=i.control.MSortValue,n=="<#Group#>"&&(i.control.MControl.SelectedText_get=i.control.MName));i.SetActiveEventKey(n);i.control.OnOptionClicked&&i.control.IncludeFilter&&i.IsDate()&&(i.control.FilterIsRange&&i.control.FilterIsRangePicker?i.DetachAuxDateVariable(i.GetRangePickerFilterVariable()):(i.DetachAuxDateVariable(i.GetDateFilterVariable()+"_dp_container"),i.control.FilterIsRange&&i.DetachAuxDateVariable(i.GetDateFilterVariableTo()+"_dp_container")))}}(lt)),this.control.OnOptionClicked&&$(s).bind("click",this.control.OnOptionClicked))),u.Tooltip.length>0&&s.setAttribute("title",u.Tooltip),gi&&(s.className="image",u.Icon!=null&&u.Icon.length>0?(yt=document.createElement("img"),yt.setAttribute("src",u.Icon),s.appendChild(yt)):u.FontIcon!=null&&u.FontIcon.length>0?(yt=document.createElement("i"),yt.className=u.FontIcon,s.appendChild(yt)):et.className="no-image"),u.ThemeClass!=null&&u.ThemeClass.length>0&&(e.className=u.ThemeClass),s.appendChild(et),e.appendChild(s));e!=null&&t.appendChild(e)}this.control.DropDownOptionsType=="GridColumnsSelector"&&(e=document.createElement("li"),h=document.createElement("div"),h.setAttribute("style","display: block; margin-right:10px;margin-left:10px;padding-bottom:10px"),w=document.createElement("div"),w.setAttribute("class","gx-attribute"),w.setAttribute("style","margin-right:10px"),g=document.createElement("div"),g.setAttribute("class","input-group"),w.appendChild(g),h.appendChild(w),ei=!1,o=document.createElement("input"),this.m_filterInput=o,g.appendChild(o),e.appendChild(h),t.appendChild(e),e=document.createElement("li"),this.CreateFilterInput(this.control.FilteredText,e,o,o,p,si,d,it),li=document.createElement("div"),li.className="FilterOptions FilterOptionsMultiSelection",ai=document.createElement("ul"),this.loadColumnsSelectorValues(ai),li.appendChild(ai),e.appendChild(li),t.appendChild(e),v=document.createElement("li"),v.setAttribute("class","LiFilterSelected"),wwp.settings.columnsSelector.AllowColumnsRestore&&($(v).addClass("UpdateColumnsAndRestore"),$(v).html('<a href="#" data-toggle="dropdown" class="image" style="width: 20px;display: inline-block;"><i class="'+wwp.settings.columnsSelector.RestoreColumnsIconClass+'" title="'+WWP_replaceAll(gx.getMessage(wwp.labels.ColumnSelectorRestoreTooltip),'"',"")+'"><\/i><\/a>'),fr=$(v).find(">a"),fr.bind("click",function(n){return function(){var t,i;WWP_HasGridEmpowerer(n.control)?(t=WWP_GetGrid(n.control).find(">table"),t!=null&&(i=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1).replace(".aspx","")+"_"+t.attr("id").replace("ContainerTbl",""),readCookie(i)!=null&&createCookie(i,"[]")),n.control.ColumnsSelectorValues=""):console.error('Grid Empowerer not found, ensure that "WorkWithPlus for Web Settings -> Standard Actions -> Edit Columns -> Allow restore defaults = True"')}}(this)),this.control.OnColumnsChanged&&fr.bind("click",this.control.OnColumnsChanged)),f=document.createElement("input"),f.setAttribute("type","button"),f.setAttribute("value",gx.getMessage(this.control.UpdateButtonText==""?wwp.labels.UpdateButtonText:this.control.UpdateButtonText)),f.setAttribute("class","btn btn-default Button"),$(f).bind("click",function(n){return function(){n.updateColumnSelectorDataBeforeGxEvent()}}(this)),this.control.OnColumnsChanged&&$(f).bind("click",this.control.OnColumnsChanged),v.appendChild(f),t.appendChild(v),navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||v.setAttribute("data-toggle","dropdown"),$(r).bind("click",function(n){return function(){n.m_filterInput.className="form-control Attribute";n.ColumnsSelectorData_Aux=JSON.parse(JSON.stringify(n.control.DropDownOptionsData,null,2));var t=WWP_HasGridEmpowerer(n.control)?WWP_GetEmpowerer(n.control):null;t!=null&&t.DropDownOptionsData_Columns!=null&&(n.control.DropDownOptionsData_Columns=JSON.parse(JSON.stringify(t.DropDownOptionsData_Columns,null,2)),n.ColumnsSelectorData_Aux.Columns=JSON.parse(JSON.stringify(t.DropDownOptionsData_Columns,null,2)));(n.ColumnsSelectorData_Aux.VisibleColumns!=undefined||n.ColumnsSelectorData_Aux.InvisibleColumns!=undefined)&&(n.ColumnsSelectorData_Aux.VisibleColumns==undefined&&(n.ColumnsSelectorData_Aux.VisibleColumns=[]),n.ColumnsSelectorData_Aux.InvisibleColumns==undefined&&(n.ColumnsSelectorData_Aux.InvisibleColumns=[]));$(o).val("");n.loadColumnsSelectorValues(ai)}}(this)));k!=null?(nt=document.createElement("i"),nt.setAttribute("class",k),r.appendChild(nt)):b!=null?(nt=document.createElement("img"),nt.setAttribute("src",b),r.appendChild(nt)):this.control.Icon.length>0&&(nt=document.createElement(this.control.IconType=="Image"?"img":"i"),nt.setAttribute(this.control.IconType=="Image"?"src":"class",this.control.Icon),r.appendChild(nt));(this.control.Caption.length>0||this.control.DropDownOptionsType=="ExtendedComboBox")&&(vi=document.createElement("span"),this.control.DropDownOptionsType=="ExtendedComboBox"?(this.m_triggerButtonSpan=vi,this.updatedExtendedComboCaption(null)):vi.innerText=this.control.Caption,r.appendChild(vi));er=document.createElement("span");er.className="caret";r.appendChild(er);n.append(r);n.append(t);this.control.Trigger=="Hover"&&this.TriggerOnHover(r,t);this.control.TitleControlAlign!="Right"&&n.hasClass("open")&&(this.control.TitleControlAlign=="Automatic"?WWP_dropdownAutoPosition("#"+this.containerToDrawName,t,r):WWP_ddo_invertPosition(t,r))}else{for(c=document.createElement("span"),c.className="",bi=this.control.Cls.split(/\s+/),tt=0;tt<bi.length;tt++)c.className!=""&&(c.className+=" "),c.className+="Readonly"+bi[tt];if(this.control.AllowMultipleSelection&&this.control.SelectedText!=null&&WWP_startsWith(this.control.SelectedText,"[")&&WWP_endsWith(this.control.SelectedText,"]")){for(ki="",di=JSON.parse(this.control.SelectedText),kt=0;kt<di.length;kt+=1)ki+=(kt>0?this.control.MultipleValuesSeparator:"")+di[kt];c.innerText=ki}else this.hasHTMLTemplate()?c.innerHTML+=this.extendedComboCaption_GetHTMLUsingTemplate(this.control.SelectedText,!1):c.innerText=this.control.SelectedText;n.append(c);c=document.createElement("span");c.className="Readonly"+this.control.Cls;c.style.display="none";n.append(c);this.control.EmptyItem&&this.control.SelectedValue==""&&n.addClass("ExtendedComboEmptyValue");n.addClass("ReadonlyExtendedCombo")}if(this.ShowHideControl(),hr&&$("#"+this.containerToDrawName).find("button").focus(),this.control.DropDownOptionsType=="ExtendedComboBox"&&bt.length>0){var cr=this.control.Enabled?null:n.find("span").get(0),lr=$("#"+this.containerToDrawName+"_btnGroupDrop"),ar=lr.get(0);for(tt=0;tt<bt.length;tt++)or=bt[tt],lr.is(":visible")?gx.fn.alert(ar,or):cr&&gx.fn.alert(cr,or)}};this.TriggerOnHover=function(n,t){$(n).bind("mouseenter",function(){$(n).data("mouseOnBtn","").data("mouseOnUL",null);$(n).parent().hasClass("open")||$(n).click()}).bind("mouseleave",function(){$(n).data("mouseOnBtn",null);$(n).parent().hasClass("open")&&window.setTimeout(function(){$(n).data("mouseOnUL")==null&&$(n).parent().hasClass("open")&&$(n).click()},100)});$(t).bind("mouseenter",function(){$(n).data("mouseOnBtn",null).data("mouseOnUL","");$(n).parent().hasClass("open")||$(n).click()}).bind("mouseleave",function(){$(n).data("mouseOnUL",null);$(n).parent().hasClass("open")&&window.setTimeout(function(){$(n).data("mouseOnBtn")==null&&$(n).parent().hasClass("open")&&$(n).click()},100)})};this.DDComponentHide=function(n){this.control.KeepOpened=WWP_FixBooleanProperty(this.control.KeepOpened);var t=this;n.bind("hide.bs.dropdown",function(){var i,r;return t.control.disableHide?!1:(i=!0,t.control.closingProgramatically||t.DDC_hidding_clicked=="button"||(r=n[0].children[n[0].children.length-1],$(r).find('.open:not(.clickedInside)>[data-toggle="dropdown"]').each(function(){$(this).parent().removeClass("open")}),i=t.control.KeepOpened?!1:t.DDC_hidding_clicked!="inside"),i&&WWP_revertWCMoved(t.DDComponent_getWCParentDivName(),t.control,n.find(">button")[0],t.control.Load=="OnEveryClick"),t.DDC_hidding_clicked=null,i)}).bind("click",function(i){$(this).hasClass("open")&&i.originalEvent!=null&&i.originalEvent.target!=null&&(i.originalEvent.target==t.m_triggerButton||$(i.originalEvent.target).closest("#"+t.m_triggerButton.id).length==1?t.DDC_hidding_clicked="button":(t.DDC_hidding_clicked="inside",$(this).addClass("clickedInside")),window.setTimeout(function(){t.DDC_hidding_clicked=null;n.removeClass("clickedInside")},100))})};this.DDComponent_getWCParentDivName=function(){return"DIV_"+(this.control.Load=="OnEveryClick"?"WWPAUXWC":this.control.ControlName)};this.DDComponentShown=function(){var f,i,e,t,r,o;this.DDC_hidding_clicked=null;f=WWP_getWCId(this.DDComponent_getWCParentDivName(),this.control);this.m_UlDropDown.childNodes.length==0?(e=document.createElement("li"),this.m_UlDropDown.appendChild(e),i=$(e)):(i=$(this.m_UlDropDown).find(">li"),i.html(""));$(this.m_UlDropDown).addClass("DDComponentUL");parseInt(this.control.ComponentWidth+"")>0?$(this.m_UlDropDown).css("min-width",this.control.ComponentWidth):$(this.m_UlDropDown).css("min-width","");this.control.TitleControlAlign=="Automatic"?WWP_dropdownAutoPosition("#"+this.containerToDrawName,this.m_UlDropDown,this.m_triggerButton):WWP_ddo_invertPosition(this.m_UlDropDown,this.m_triggerButton);var s=this.control.Load=="OnEveryClick"||this.control.Load=="OnFirstClick"&&$("#"+f).children().length==0,u=this.control.ShowLoading&&s,n=document.createElement("div");u?($(n).css("display","none"),t=document.createElement("div"),t.innerHTML='<div class="WCD_Loading"><i class="fas fa-spinner fa-spin"><\/i><\/div>',i.append(t),t.appendChild(n),$(t).css("min-height",$(t).height())):i.append(n);r=WWP_moveWCToDiv(f,this.control,u,n);o=this;u&&window.setTimeout(function(){o.DDComponentShown_WCLoaded(n,r)},3e3);s&&(r.html(""),u&&(this.DDComponentShown_WCRenderHandler=function(t){t.containerControl==r[0]&&o.DDComponentShown_WCLoaded(n,r)},gx.fx.obs.addObserver("webcom.render",window,this.DDComponentShown_WCRenderHandler)),this.control.OnLoadComponent!=null&&this.control.OnLoadComponent())};this.DDComponentShown_WCLoaded=function(n,t){if($(n).css("display")=="none"){WWP_Debug_Log(!1,"DDComponentShown_WCLoaded");var i=this;window.setTimeout(function(){$(n).parent().find(".WCD_Loading").remove();t.find(".gxwebcomponent-body").removeClass("Invisible");$(n).slideDown(function(){$(this.parentElement).css("min-height","");i.control.TitleControlAlign=="Automatic"?WWP_dropdownAutoPosition("#"+i.containerToDrawName,i.m_UlDropDown,i.m_triggerButton):WWP_ddo_invertPosition(i.m_UlDropDown,i.m_triggerButton)});i.DDComponentShown_WCRenderHandler!=null&&(gx.fx.obs.deleteObserver("webcom.render",window,i.DDComponentShown_WCRenderHandler),delete i.DDComponentShown_WCRenderHandler)},200)}};this.isEnabled=function(){if(this.control.IsGridItem){var n=$("#"+this.realId);return!n.hasClass("gx-disabled")&&(n.attr("style")+"").indexOf("none")==-1}return this.control.Enabled};this.updateColumnSelectorDataBeforeGxEvent=function(){for(var n=0;n<this.ColumnsSelectorData_Aux.Columns.length;n+=1)delete this.ColumnsSelectorData_Aux.Columns[n].fixedL,delete this.ColumnsSelectorData_Aux.Columns[n].fixedR,delete this.ColumnsSelectorData_Aux.Columns[n].configFixedL,delete this.ColumnsSelectorData_Aux.Columns[n].configFixedR,delete this.ColumnsSelectorData_Aux.Columns[n].GAux,delete this.ColumnsSelectorData_Aux.Columns[n].freezable,this.ColumnsSelectorData_Aux.Columns[n].O++;this.control.ColumnsSelectorValues=JSON.stringify(this.ColumnsSelectorData_Aux,null,2);this.control.DropDownOptionsData=this.ColumnsSelectorData_Aux};this.loadExtendedComboSelectedText=function(n,t,i){var e,u,o,s,r,f;if(this.control.DataListType=="FixedValues"&&(n=this.ExtendedCombo_getFixedValues()),t==null&&this.control.AllowMultipleSelection){if(t=JSON.parse(this.control.SelectedValue),t.length==0)return!1;for(this.m_SelectedTextJson=[],r=0;r<t.length;r+=1)this.m_SelectedTextJson.push(t[r])}for(e=0;n!=null&&e<n.length;e+=1)if(u=n[e],u.C!=null&&u.C.length>0){if(this.loadExtendedComboSelectedText(u.C,t,!1)&&!this.control.AllowMultipleSelection)return!0}else{if(o=!1,s=-1,this.control.AllowMultipleSelection){for(r=0;r<t.length;r+=1)if(u.ID.trim()==(t[r]+"").trim()){o=!0;s=r;break}}else this.control.SelectedValue!=null&&u.ID.trim()==this.control.SelectedValue.trim()&&(o=!0);if(o)if(f=u.T,f=gx.getMessage(f),this.control.AllowMultipleSelection)this.m_SelectedTextJson.splice(s,1,f);else return this.SetSelectedText(f),!0}return i&&(this.control.AllowMultipleSelection?(this.SetSelectedText(JSON.stringify(this.m_SelectedTextJson,null,2)),this.m_SelectedTextJson=null):this.control.SelectedText==""&&this.SetSelectedText(this.control.SelectedValue)),!1};this.loadExtendedComboBox=function(n){var t,h,e,o,s,u,c,a,f,i;if(!this.extendedComboBoxLoaded){if(this.extendedComboBoxLoaded=!0,t=document.createElement("li"),h=document.createElement("div"),h.setAttribute("style","display: block; margin-right:10px;margin-left:10px;padding-bottom:10px"),e=document.createElement("div"),e.setAttribute("class","gx-attribute"),e.setAttribute("style","margin-right:10px"),o=document.createElement("div"),o.setAttribute("class","input-group"),o.setAttribute("style","width:100%"),e.appendChild(o),h.appendChild(e),s=document.createElement("input"),this.m_filterInput=s,o.appendChild(s),t.appendChild(h),n.appendChild(t),u=document.createElement("ul"),t=document.createElement("li"),this.CreateFilterInput(this.control.FilteredText,t,s,null,null,!1,null,null),this.ExtendedComboBox_FilterSelected=!1,this.control.IncludeOnlySelectedOption){c=document.createElement("li");c.setAttribute("class","OnlySelected");var r=document.createElement("a"),f=document.createElement("span"),l=gx.getMessage(this.control.OnlySelectedValues==""?wwp.labels.OnlySelectedValues:this.control.OnlySelectedValues);l.indexOf("<SELECTED_COUNT>")!=-1&&(this.OnlySelectedItem_span=f,l=WWP_replaceAll(l,"<SELECTED_COUNT>","0"));f.innerHTML=l;r.className="image";r.setAttribute("style","margin-bottom:10px");this.control.DropDownOptionsTitleSettingsIcons_IsFI?(i=document.createElement("i"),i.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul),r.appendChild(i)):(i=document.createElement("img"),i.setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption)),r.appendChild(i));$(r).bind("click",function(n,t){return function(){var i=this.getAttribute("sel")!="T";i?this.setAttribute("sel","T"):this.removeAttribute("sel");n.control.DropDownOptionsTitleSettingsIcons_IsFI?t.setAttribute("class",n.control.DropDownOptionsTitleSettingsIcons[i?"muls":"mul"]):t.setAttribute("src",gx.util.resolveUrl(n.control.DropDownOptionsTitleSettingsIcons[i?"MultiselSelOption":"MultiselOption"]));n.ExtendedComboBox_FilterSelected=i;n.updateExtendedComboList(u,$(s).val())}}(this,i));$(r).bind("click",function(n){n.preventDefault();n.stopPropagation()});r.appendChild(f);c.appendChild(r);n.appendChild(c)}a=document.createElement("div");a.className=this.control.AllowMultipleSelection?"FilterOptions FilterOptionsMultiSelection":"FilterOptions";this.loadExtendedComboBoxItems(u,this.control.DropDownOptionsData,0,null,!1);a.appendChild(u);t.appendChild(a);n.appendChild(t);this.control.DataListProc!=null&&this.control.DataListProc!=""&&(t=document.createElement("li"),this.addLoadingOption(t),n.appendChild(t),this.m_loadingLi=t,$(this.m_loadingLi).css("display","none"));this.ExtendedComboBox_SelectAll=null;this.ExtendedComboBox_SelectAll_A=null;this.extendedComboBox_UL=u;this.control.IncludeSelectAllOption&&(t=document.createElement("li"),t.setAttribute("class","SelectAll"),this.ExtendedComboBox_SelectAll_A=document.createElement("a"),f=document.createElement("span"),f.innerHTML=gx.getMessage(this.control.SelectAllText==""?wwp.labels.SelectAll:this.control.SelectAllText),this.ExtendedComboBox_SelectAll_A.className="image",this.ExtendedComboBox_SelectAll_A.setAttribute("style","margin-bottom:10px"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(i=document.createElement("i"),i.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul)):(i=document.createElement("img"),i.setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption))),this.ExtendedComboBox_SelectAll_A.appendChild(i),$(this.ExtendedComboBox_SelectAll_A).bind("click",function(n,t){return function(){var f=this.getAttribute("sel")!="T",e,r,i,o;for(f?this.setAttribute("sel","T"):this.removeAttribute("sel"),n.control.DropDownOptionsTitleSettingsIcons_IsFI?t.setAttribute("class",n.control.DropDownOptionsTitleSettingsIcons[f?"muls":"mul"]):t.setAttribute("src",gx.util.resolveUrl(n.control.DropDownOptionsTitleSettingsIcons[f?"MultiselSelOption":"MultiselOption"])),n.ExtendedComboBox_SelectAll_A=null,this.extendedComboBox_DisableParentsUpdating=!0,e=0;e<u.childNodes.length;e+=1)r=u.childNodes[e],i=r.childNodes[0],($(r).css("display")!="none"||n.extendedComboBox_IsOptionVisibleAndCollapsed(r))&&($(i).hasClass("ExtendedComboLevelWithChildren")?i.getAttribute("expanded")!="true"&&(i.setAttribute("expanded","true"),n.control.DropDownOptionsTitleSettingsIcons_IsFI?(o=$(i).find("i"),o[o.length-1].setAttribute("class",n.control.DropDownOptionsTitleSettingsIcons.tcol)):$(i.childNodes[i.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(n.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")")):(f&&i.getAttribute("sel")!="T"||!f&&i.getAttribute("sel")=="T")&&i.click(),$(r).css("display")=="none"&&$(r).css("display",""));this.extendedComboBox_DisableParentsUpdating=!1;n.ExtendedComboBox_SelectAll_A=this}}(this,i)),$(this.ExtendedComboBox_SelectAll_A).bind("click",function(n){n.preventDefault();n.stopPropagation()}),this.ExtendedComboBox_SelectAll_A.appendChild(f),t.appendChild(this.ExtendedComboBox_SelectAll_A),n.appendChild(t))}};this.extendedComboBox_UpdateParentsSelection=function(n){var r,i;if(!this.extendedComboBox_DisableParentsUpdating==!0){for(var f=n.childNodes[0].getAttribute("sel")=="T",u=parseInt(n.childNodes[0].getAttribute("level")),t=n;(t=t.previousSibling)!=null&&parseInt(t.childNodes[0].getAttribute("level"))>u-1;);if(t!=null)if(f){for(r=!0,i=t;(i=i.nextSibling)!=null&&parseInt(i.childNodes[0].getAttribute("level"))>=u;)if(i.childNodes[0].getAttribute("sel")!="T"&&parseInt(i.childNodes[0].getAttribute("level"))==u&&($(i).css("display")!="none"||this.extendedComboBox_IsOptionVisibleAndCollapsed(i))){r=!1;break}(r&&t.childNodes[0].getAttribute("sel")!="T"||!r&&t.childNodes[0].getAttribute("sel")=="T")&&(t.childNodes[0].setAttribute("sel",r?"T":""),this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(t.childNodes[0]).find("i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[r?"muls":"mul"]):$(t.childNodes[0].childNodes[0]).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[r?"MultiselSelOption":"MultiselOption"])+")"),this.extendedComboBox_UpdateParentsSelection(t))}else t.childNodes[0].getAttribute("sel")=="T"&&(t.childNodes[0].removeAttribute("sel"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(t.childNodes[0]).find("i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul):$(t.childNodes[0].childNodes[0]).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")"),this.extendedComboBox_UpdateParentsSelection(t))}};this.extendedComboBox_IsOptionVisibleAndCollapsed=function(n){var t,r,i;if($(this.m_filterInput).val()==""&&!this.ExtendedComboBox_FilterSelected||this.control.DataListProc!=null&&this.control.DataListProc!=""&&!this.ExtendedComboBox_FilterSelected||(t=n.childNodes[0],t.getAttribute("filtered")=="true"))return!0;if(t.getAttribute("level")!="0")for(r=parseInt(t.getAttribute("level"))-1;(n=n.previousSibling)!=null;)if(i=n.childNodes[0],parseInt(i.getAttribute("level"))==r){if(i.getAttribute("filteredChildren")=="true")return!1;if(i.getAttribute("filtered")=="true")return!0;r--}return!1};this.extendedComboBox_SelectSelectAll_A=function(n){this.ExtendedComboBox_SelectAll_A!=null&&(n?this.ExtendedComboBox_SelectAll_A.getAttribute("sel")!="T"&&(this.ExtendedComboBox_SelectAll_A.setAttribute("sel","T"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?this.ExtendedComboBox_SelectAll_A.childNodes[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.muls):this.ExtendedComboBox_SelectAll_A.childNodes[0].setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselSelOption))):this.ExtendedComboBox_SelectAll_A.getAttribute("sel")=="T"&&(this.ExtendedComboBox_SelectAll_A.removeAttribute("sel"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?this.ExtendedComboBox_SelectAll_A.childNodes[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul):this.ExtendedComboBox_SelectAll_A.childNodes[0].setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption))))};this.extendedComboBox_UpdateSelectAll_A=function(n){var t,i;if(this.ExtendedComboBox_SelectAll_A!=null)if(n!=null&&n.childNodes[0].getAttribute("sel")!="T")this.extendedComboBox_SelectSelectAll_A(!1);else{for(t=!1,i=0;i<this.extendedComboBox_UL.childNodes.length;i+=1){if(n=this.extendedComboBox_UL.childNodes[i],n.childNodes[0].getAttribute("sel")!="T"&&!$(n.childNodes[0]).hasClass("ExtendedComboLevelWithChildren")&&($(n).css("display")!="none"||this.extendedComboBox_IsOptionVisibleAndCollapsed(n))){this.extendedComboBox_SelectSelectAll_A(!1);return}!t&&($(n).css("display")!="none"||this.extendedComboBox_IsOptionVisibleAndCollapsed(n))&&(t=!0)}this.extendedComboBox_SelectSelectAll_A(t)}};this.extendedComboBox_UpdateNodeWithChildrenSelection=function(){if(this.extendedComboBox_UL!=null)for(var n=0;n<this.extendedComboBox_UL.childNodes.length;n+=1)li=this.extendedComboBox_UL.childNodes[n],!$(li.childNodes[0]).hasClass("ExtendedComboLevelWithChildren")&&($(li).css("display")!="none"||this.extendedComboBox_IsOptionVisibleAndCollapsed(li))&&this.extendedComboBox_UpdateParentsSelection(li)};this.ExtendedCombo_getFixedValues=function(){var o=[],r=this.control.DataListFixedValues,e,u,t,f,n,i;for(r=WWP_replaceAll(r,"\\\\","[\\\\]"),r=WWP_replaceAll(r,"\\,","[\\\\\\]"),e=r.split(","),u=0;u<e.length;u+=1)t=e[u],t=WWP_replaceAll(t,"[\\\\\\]",","),t=WWP_replaceAll(t,"\\:","[\\\\\\]"),f=t.split(":"),n=f[0],n=WWP_replaceAll(n,"[\\\\\\]",":"),n=WWP_replaceAll(n,"[\\\\]","\\"),f.length>1?(i=f[1],i=WWP_replaceAll(i,"[\\\\\\]",":"),i=WWP_replaceAll(i,"[\\\\]","\\")):n=n,o.push({ID:i,T:n});return o};this.hasHTMLTemplate=function(){return this.control.HTMLTemplate!=""};this.loadExtendedComboBoxItems=function(n,t,i,r,u){var o,b,c,w,y,s,et,d,p,f;if(r==null&&this.control.AllowMultipleSelection&&(r=JSON.parse(this.control.SelectedValue)),this.control.DataListType=="FixedValues"&&(t=this.ExtendedCombo_getFixedValues()),i==0&&u&&(t==null||t.length==0)&&!this.control.IncludeAddNewOption){var h=document.createElement("li"),e=document.createElement("a"),l=document.createElement("span");e.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||e.setAttribute("data-toggle","dropdown");$(e).bind("click",function(n){n.preventDefault();n.stopPropagation()});e.appendChild(l);h.appendChild(e);n.appendChild(h);l.innerHTML=gx.getMessage(this.control.NoResultsFound!=""?this.control.NoResultsFound:wwp.labels.NoResultsFound)}else{var a=this.control.extendedCombo_getAttributeInfo(),rt=a!=null,g=!1,ut=(t!=null?t.length:0)+(i==0&&this.control.IncludeAddNewOption?1:0);for(o=this.control.AllowMultipleSelection||!this.control.EmptyItem||i>0?0:-1;o==-1||o<ut;o+=1){b=!1;o>=0&&o==(t==null?0:t.length)?(b=!0,c={ID:"<#NEW#>",T:gx.getMessage(this.control.AddNewOptionText==""?wwp.labels.AddNewOption:this.control.AddNewOptionText)}):c=o>=0?t[o]:{ID:"",T:gx.getMessage(this.control.EmptyItemText)};var nt=c.ID.trim(),k=c.C==null||c.C.length==0,tt=k&&this.hasHTMLTemplate()&&o>=0&&o<t.length,it,v=c.T,h=document.createElement("li"),e=document.createElement("a"),l=document.createElement("span"),ft=v;if(v=gx.getMessage(ft),e.setAttribute("dsc",v),k||g||($("#"+this.containerToDrawName).closest(".ExtendedCombo").addClass("ExtendedComboWithCategories"),g=!0),tt?it=this.extendedComboCaption_GetHTMLUsingTemplate(v):(l.setAttribute("class","OptionLabel"),l.innerText=v,b&&(e.setAttribute("add-new-option",""),$(h).addClass("ExtendedComboNewOption"))),e.setAttribute("level",i),w=null,k){if(e.setAttribute("class","ExtendedComboLevel"+i),s=!1,this.control.SelectedValue!="")if(et=this.control.SelectedValue,this.control.AllowMultipleSelection){for(d=0;d<r.length;d+=1)if(nt==(r[d]+"").trim()){s=!0;break}}else nt==this.control.SelectedValue.trim()&&(s=!0);else s=o==-1;s&&(e.setAttribute("sel","T"),this.m_SelectedLI=h);this.control.AllowMultipleSelection?this.control.DropDownOptionsTitleSettingsIcons_IsFI?(p=document.createElement("i"),p.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[s?"muls":"mul"]),e.appendChild(p)):($(e).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[s?"MultiselSelOption":"MultiselOption"])+")"),$(e).css("background-repeat","no-repeat"),$(e).css("background-position","5px 60%")):s&&$(h).addClass("SelectedItem")}else this.control.DropDownOptionsTitleSettingsIcons_IsFI?(w=document.createElement("i"),w.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.tcol)):$(l).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")"),e.setAttribute("class","ExtendedComboLevel"+i+" ExtendedComboLevelWithChildren"),e.setAttribute("expanded","true"),this.control.AllowMultipleSelection&&(y=document.createElement("span"),y.setAttribute("class","SelectAllChildren"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(p=document.createElement("i"),p.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul),y.appendChild(p)):$(y).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")"),e.appendChild(y),f=this,$(y).bind("click",function(){return function(n){var r=this.parentNode.getAttribute("sel")!="T",u,t,e;for(this.parentNode.setAttribute("sel",r?"T":""),f.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons[r?"muls":"mul"]):$(this).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons[r?"MultiselSelOption":"MultiselOption"])+")"),f.extendedComboBox_DisableParentsUpdating=!0,u=this.parentNode.parentNode;(u=u.nextSibling)!=null&&parseInt(u.childNodes[0].getAttribute("level"))>i;)t=u.childNodes[0],($(u).css("display")!="none"||f.extendedComboBox_IsOptionVisibleAndCollapsed(u))&&($(t).hasClass("ExtendedComboLevelWithChildren")?(t.getAttribute("expanded")!="true"&&(t.setAttribute("expanded","true"),f.control.DropDownOptionsTitleSettingsIcons_IsFI?(e=$(t).find("i"),e[e.length-1].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons.tcol)):$(t.childNodes[t.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")")),(r&&t.getAttribute("sel")!="T"||!r&&t.getAttribute("sel")=="T")&&(t.setAttribute("sel",r?"T":""),f.control.DropDownOptionsTitleSettingsIcons_IsFI?$(t).find("i")[0].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons[r?"muls":"mul"]):$(t.childNodes[0]).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons[r?"MultiselSelOption":"MultiselOption"])+")"))):(r&&t.getAttribute("sel")!="T"||!r&&t.getAttribute("sel")=="T")&&t.click(),$(u).css("display")=="none"&&$(u).css("display",""));f.extendedComboBox_DisableParentsUpdating=!1;f.extendedComboBox_UpdateParentsSelection(this.parentNode.parentNode);this.parentNode.getAttribute("expanded")!="true"&&(this.parentNode.setAttribute("expanded","true"),f.control.DropDownOptionsTitleSettingsIcons_IsFI?(e=$(this.parentNode).find("i"),e[e.length-1].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons.tcol)):$(this.parentNode.childNodes[this.parentNode.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")"));n.preventDefault();n.stopPropagation()}}()));f=this;$(e).bind("click",function(n,i){return function(){var r=this.parentNode,a,h,v,p,u,e,y,o,l,s,c;if(i>=0&&t!=null&&i<t.length&&t[i].C!=null&&t[i].C.length>0)for(a=parseInt(this.getAttribute("level")),h=this.getAttribute("expanded")=="true",this.setAttribute("expanded",h?"false":"true"),f.control.DropDownOptionsTitleSettingsIcons_IsFI?(v=$(this).find("i"),v[v.length-1].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons[h?"texp":"tcol"])):$(this.childNodes[this.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons[h?"TreeviewExpand":"TreeviewCollapse"])+")"),p=this.getAttribute("filteredChildren")=="true";(r=r.nextSibling)!=null;)if(parseInt(r.childNodes[0].getAttribute("level"))>=a+1)parseInt(r.childNodes[0].getAttribute("level"))==a+1?h||p&&r.childNodes[0].getAttribute("filtered")!="true"?$(r).css("display","none"):($(r).css("display",""),r.childNodes[0].getAttribute("expanded")=="true"&&(r.childNodes[0].setAttribute("expanded","false"),f.control.DropDownOptionsTitleSettingsIcons_IsFI?$(r.childNodes[0]).find("i")[0].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons.texp):$(r.childNodes[0].childNodes[r.childNodes[0].childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons.TreeviewExpand)+")"))):$(r).css("display","none");else break;else{if(u=t!=null&&i<t.length?i>=0?t[i].ID:"":"<#NEW#>",f.control.isNew=u=="<#NEW#>",f.control.isNew&&f.control.IsGridItem&&(f.control.my_dropDownOptions=f),e=null,y=!1,f.control.AllowMultipleSelection){for(o=f.control.SelectedValue==null||f.control.SelectedValue==""?[]:JSON.parse(f.control.SelectedValue),e=f.control.SelectedText==null||f.control.SelectedText==""?[]:JSON.parse(f.control.SelectedText),l=this.getAttribute("sel")=="T",this.setAttribute("sel",l?"":"T"),s=-1,c=0;c<o.length;c+=1)if(o[c]==u){s=c;break}l&&s>=0?(o.splice(s,1),e.splice(s,1),f.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons.mul):$(this).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")")):!l&&s<0&&(o.push(u),e.push(n),f.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",f.control.DropDownOptionsTitleSettingsIcons.muls):$(this).css("background-image","url("+gx.util.resolveUrl(f.control.DropDownOptionsTitleSettingsIcons.MultiselSelOption)+")"));f.SetSelectedValue(JSON.stringify(o,null,2));f.SetSelectedText(JSON.stringify(e,null,2));f.extendedComboBox_UpdateParentsSelection(this.parentNode);f.extendedComboBox_UpdateSelectAll_A(this.parentNode)}else f.SetSelectedValue(u),y=f.control.isNew,f.SetSelectedText(n),f.m_SelectedLI!=null&&f.m_SelectedLI.removeAttribute("class"),f.m_SelectedLI=r,r.setAttribute("class","SelectedItem"),f.control.IsGridItem&&!f.control.isNew&&(f.realSelectedText=t!=null&&i<t.length?i>=0?t[i].T:"":"",f.extendedCombo_UpdateGridItemValue(u));f.updatedExtendedComboCaption(e);y&&f.SetSelectedText(f.m_filterInput!=null&&$(f.m_filterInput).val()!=null?$(f.m_filterInput).val():"")}}}(v,o));e.setAttribute("href",DDO_GetLocalURL());k&&!this.control.AllowMultipleSelection?(navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||e.setAttribute("data-toggle","dropdown"),this.control.OnOptionClicked&&$(e).bind("click",this.control.OnOptionClicked),b||(f=this,$(e).bind("click",function(){if(rt){var n=a.wcName+a.attName;f.control.lastComboVarValue=$(a.comboVarSelector).val();$("#"+n).val(f.control.lastComboVarValue);$(a.comboVarSelector).parent().one("DOMSubtreeModified",function(){$("#"+n).val($(a.comboVarSelector).val());var i=gx.O,t=i.getValidStructFld(n);t!=null&&gx.csv.validControls(t.id,t.id+1,!0,i)})}$("#"+f.containerName).find("button").focus()}))):$(e).bind("click",function(n){n.preventDefault();n.stopPropagation()});tt?e.innerHTML+=it:e.appendChild(l);w!=null&&e.appendChild(w);h.appendChild(e);n.appendChild(h);this.control.DataListType!="FixedValues"&&this.loadExtendedComboBoxItems(n,c.C,i+1,r,u)}}};this.extendedCombo_UpdateGridItemValue=function(n){var u=$("#"+this.realId),i,t,r;u.focus().val(n).change();i=gx.O;t=i.getValidStructFld(this.realId);t!=null&&(gx.csv.validControls(t.id,t.id+1,!0,i),r=u.closest("td"),window.setTimeout(function(){r.parent().find(">.DVelopComboGridCell").each(function(){if(r[0]!=this){var n=$(this).data("ddo");n!=null&&n.control.controlRenderGridItem(n.realId)}})},100))};this.extendedComboCaption_GetHTMLUsingTemplate=function(n,t){var r,i,f,u;if(n!=null&&n.trim()!=""){if(this.control.EmptyItem&&n==gx.getMessage(this.control.EmptyItemText))return n;r=document.createElement("span");i=null;try{i=JSON.parse(n)}catch(e){}if(t)return r.innerText=i.length>0?i[0]:"",r.innerHTML;if(i==null||i.length==null)return r.innerText=i!=null&&i.text!=null?i.text:n,r.innerHTML;for(f=this.control.HTMLTemplate,u=Math.max(i.length!=null?i.length:0,10);u>0;u--)r.innerText=i.length>=u?i[u-1]:"",f=WWP_replaceAll(f,"%"+u,WWP_replaceAll(r.innerHTML,"%","[%]"));return WWP_replaceAll(f,"[%]","%")}return""};this.updatedExtendedComboCaption=function(n){var i="",r,t;if(this.control.AllowMultipleSelection){if(n==null&&(n=this.control.SelectedText==null||this.control.SelectedText==""?[]:JSON.parse(this.control.SelectedText)),n.length>0)for(r=0;r<n.length;r+=1)this.control.MultipleValuesType=="Tags"?(i+='<span class="DDO_Tags">',i+=this.hasHTMLTemplate()?this.extendedComboCaption_GetHTMLUsingTemplate(n[r],!0):n[r],WWP_IsIE()||(i+='<span class="DDO_Tags_del"><\/span>'),i+="<\/span>"):(i+=r>0?this.control.MultipleValuesSeparator:"",i+=this.hasHTMLTemplate()?this.extendedComboCaption_GetHTMLUsingTemplate(n[r],!0):n[r]);else i=this.control.EmptyItem?gx.getMessage(this.control.EmptyItemText):"";this.control.MultipleValuesType=="Tags"&&n.length>0?(this.m_triggerButtonSpan.innerHTML=i,t=this,$(t.m_triggerButtonSpan).find(".DDO_Tags").click(function(n){n.preventDefault();n.stopPropagation()}),$(t.m_triggerButtonSpan).find(".DDO_Tags_del").click(function(n){var r=t.control.SelectedValue==null||t.control.SelectedValue==""?[]:JSON.parse(t.control.SelectedValue),i=t.control.SelectedText==null||t.control.SelectedText==""?[]:JSON.parse(t.control.SelectedText),u=$(this.parentNode).index();r.splice(u,1);i.splice(u,1);t.SetSelectedValue(JSON.stringify(r,null,2));t.SetSelectedText(JSON.stringify(i,null,2));t.updatedExtendedComboCaption(i);(t.control.DataListProc==null||t.control.DataListProc=="")&&(t.extendedComboBox_UL.innerHTML="",t.loadExtendedComboBoxItems(t.extendedComboBox_UL,t.control.DropDownOptionsData,0,null,!1));t.updateExtendedComboList(t.extendedComboBox_UL,$(t.m_filterInput).val());!$("#"+t.containerName).hasClass("open")&&t.control.OnOptionClicked&&t.control.OnOptionClicked();n.preventDefault();n.stopPropagation()})):(this.m_triggerButtonSpan.innerText=i,this.control.MultipleValuesSeparator=="<br />"&&(this.m_triggerButtonSpan.innerHTML=WWP_replaceAll(this.m_triggerButtonSpan.innerHTML,"&lt;br /&gt;","<br />")));this.OnlySelectedItem_span!=null&&(this.OnlySelectedItem_span.innerHTML=WWP_replaceAll(gx.getMessage(this.control.OnlySelectedValues),"<SELECTED_COUNT>",n.length))}else i=this.control.SelectedText!="<#NEW#>"?this.control.SelectedText:"",this.hasHTMLTemplate()?this.m_triggerButtonSpan.innerHTML=this.extendedComboCaption_GetHTMLUsingTemplate(i):this.m_triggerButtonSpan.innerText=i;this.control.Caption=i};this.updateColumnsSelectorValuesIndex=function(n,t){var i=this.columnsSelectorGetCurrentOrderIndex(n),r=this.columnsSelectorGetCurrentOrderIndex(t);this.updateColumnsSelectorValuesIndexByOrderIndexes(i,r)};this.updateColumnsSelectorValuesIndexByOrderIndexes=function(n,t){var u,r,i;if(n!=t)for(u=n>t,r=0;r<this.ColumnsSelectorData_Aux.Columns.length;r+=1)i=this.ColumnsSelectorData_Aux.Columns[r].O,n==i?this.ColumnsSelectorData_Aux.Columns[r].O=t:!u&&i>n&&i<=t?this.ColumnsSelectorData_Aux.Columns[r].O=i-1:u&&i<n&&i>=t&&(this.ColumnsSelectorData_Aux.Columns[r].O=i+1)};this.columnsSelectorGetCurrentOrderIndex=function(n){for(var t=0;t<this.ColumnsSelectorData_Aux.Columns.length;t+=1)if(this.ColumnsSelectorData_Aux.Columns[t].C==n)return this.ColumnsSelectorData_Aux.Columns[t].O;return-1};this.columnsSelectorGetObjectByValue=function(n){for(var t=0;t<this.ColumnsSelectorData_Aux.Columns.length;t+=1)if(this.ColumnsSelectorData_Aux.Columns[t].C==n)return this.ColumnsSelectorData_Aux.Columns[t];return null};this.loadColumnsSelectorValues=function(n,t){var r,f,y,u,i,s,h,l;for(this.AllowColumnReordering=wwp.settings.columnsSelector.AllowColumnReordering&&WWP_HasGridEmpowerer(this.control),$(n).html(""),r=0;r<3;r+=1)if(f=r==0?t!=null?null:this.control.DropDownOptionsData_VisibleColumns:r==1?t!=null?null:this.control.DropDownOptionsData_InvisibleColumns:t!=null?t.Columns:this.control.DropDownOptionsData_Columns,f!=undefined){if(y=!1,r==2)for(u=0;u<f.length;u+=1)if(f[u].G!=null&&f[u].G!=""){y=!0;break}var c="",p=!1,w=!1,e=!1,a=WWP_HasGridEmpowerer(this.control)?WWP_GetEmpowerer(this.control):null,e=this.AllowColumnReordering&&a!=null&&a.TitleSettingsHelper!=null&&a.TitleSettingsHelper.Fixable.indexOf("T")>=0;for(e&&($(n).addClass("CSItemsFreezable"),this.loadColumnsSelectorValues_addLI(n,r,{configFixedL:!0,isFixableCat:!0},"DummyCatFL",wwp.labels.ColumnSelectorFixedLeftCategory,"",!0,!0,e)),u=0;u<=f.length;u+=1){if(i=null,u<f.length&&(i=f[u],i.O!=null&&this.AllowColumnReordering))for(s=0;s<f.length;s+=1)if(f[s].O==u){i=f[s];break}if(e&&(u!=0||i.F=="L"||i.configFixedL||this.loadColumnsSelectorValues_addLI(n,r,{configFixedL:!0,isFixableCat:!0},"DummyCatFL",wwp.labels.ColumnSelectorFixedEmpty,"",!0,!1,e),p||u!=f.length&&(i.F=="L"||i.configFixedL)||(this.loadColumnsSelectorValues_addLI(n,r,{notFixedCategory:!0,isFixableCat:!0},"DummyCatNoF",wwp.labels.ColumnSelectorNotFixedCategory,"",!0,!0,e),p=!0,(u==f.length||i.F=="R"||i.configFixedR)&&this.loadColumnsSelectorValues_addLI(n,r,{configFixedL:!0,isFixableCat:!0},"DummyCatNoF",wwp.labels.ColumnSelectorFixedEmpty,"",!0,!1,e),c=""),!w&&(u==f.length||i.F=="R"||i.configFixedR)&&(this.loadColumnsSelectorValues_addLI(n,r,{configFixedR:!0,isFixableCat:!0},"DummyCatFR",wwp.labels.ColumnSelectorFixedRightCategory,"",!0,!0,e),w=!0,u==f.length&&this.loadColumnsSelectorValues_addLI(n,r,{configFixedR:!0,isFixableCat:!0},"DummyCatFR",wwp.labels.ColumnSelectorFixedEmpty,"",!0,!1,e),c="")),u<f.length&&(h=r<2?i.ColumnName:i.C,l=h,r==2&&i.D!=null&&i.D!=""&&(l=i.D),r<2||h!="")){var o=i.G,v=o!=null&&o!="",b=v&&o!=c;c=o;this.loadColumnsSelectorValues_addLI(n,r,i,h,l,o,v,b,e);b&&this.loadColumnsSelectorValues_addLI(n,r,i,h,l,o,v,!1,e)}}}this.columnsSelector_updateFixableCategoriesValues(n)};this.loadColumnsSelectorValues_addLI=function(n,t,i,r,u,f,e,o,s){var c=this,a=document.createElement("li"),l=document.createElement("a"),w=t==0||t==2&&(i.V+"").toLowerCase()!="false",b=null,p,d,k;if(o?(i.isFixableCat?$(a).addClass("CSFixableCategory"):u=f,$(l).addClass("CSCategory"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(b=document.createElement("i"),b.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.tcol)):$(p).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")")):(e||s)&&($(l).addClass("CSItemWithCategory"),e&&$(l).addClass("CSItemWithUserCategory")),this.AllowColumnReordering&&($(a).data("v",r),o?i.configFixedL||i.fixedL?$(a).addClass("CSCategoryFixedL"):(i.configFixedR||i.fixedR)&&$(a).addClass("CSCategoryFixedR"):i.configFixedL?$(a).addClass("CSItemConfigFixedL"):i.configFixedR?$(a).addClass("CSItemConfigFixedR"):i.fixedL?$(a).addClass("CSItemFixedL"):i.fixedR&&$(a).addClass("CSItemFixedR"),i.freezable&&$(a).addClass("CSItemFreezable"),!i.isFixableCat&&!i.configFixedL&&!i.configFixedR)){l.draggable=!0;var h=null,y=null,v=-1;$(a).bind("dragstart",function(){event.stopPropagation();y=$(this);v=y.index();var t=">li";y.parent().hasClass("CSItemsFreezable")&&(y.hasClass("CSItemFreezable")||(t=">li:not(.CSFixableCategory,.CSCategoryFixedL,.CSCategoryFixedR,.CSItemConfigFixedL,.CSItemConfigFixedR,.CSItemFixedL,.CSItemFixedR)"));y.parent().find(t).bind("dragover",function(t){var i,f,u,r;if(h!=null&&h.removeClass("WWPDragOverUp WWPDragOverDown"),h=$(this),i=h.index(),$(this).is(".CSFixableCategory.CSCategoryFixedL")&&(h=h.next(),i++),v!=i){if(f=y.find(">a").is(".CSCategory"),u=h.find(">a").is(".CSCategory"),h.is(".CSItemConfigFixedL")||h.is(".CSItemConfigFixedR")||h.is(".CSCategoryFixedL")||h.is(".CSCategoryFixedR")){if(!h.is(".CSCategoryFixedR")){if(v>i)for(h=h.next();h.is(".CSItemConfigFixedL,.CSItemConfigFixedR");)h=h.next();else while(h.is(".CSItemConfigFixedL,.CSItemConfigFixedR,.CSCategoryFixedL"))h=h.prev();i=h.index()}}else if(f){if(!u&&h.find(">a").is(".CSItemWithUserCategory")){for(r=h.prev();r.find(">a").hasClass("CSItemWithUserCategory");)r=r.prev();h=r;i=r.index();u=!0}if(v!=i&&u&&v<i){for(r=h.next();r.next().find(">a").hasClass("CSItemWithUserCategory");)r=r.next();h=r;i=r.index()}}else if(!h.hasClass("CSFixableCategory")&&h.find(">a").is(".CSCategory")&&v<i){for(h=h.next();h.next().find(">a").hasClass("CSItemWithUserCategory");)h=h.next();i=h.index()}v!=i?(h=$(n).find(">li:eq("+i+")"),h.addClass("WWPDragOver"+(v>i?"Up":"Down")),t.preventDefault()):h=null}}).bind("drop",function(){var e=h.index(),l=y.find(">a").is(".CSCategory"),i=y.data("v"),u=!1,r,o,f,s,t;if(h.is(".CSFixableCategory")){if(u=h.is(".CSCategoryFixedR")&&v<e||!h.is(".CSCategoryFixedR")&&v>e,o=u?h.is(".CSCategoryFixedR")?"R":"L":null,v>e)for(h=h.next();h.is(".CSFixableCategory,.CSItemConfigFixedL");)h=h.next();else for(h=h.prev();h.is(".CSFixableCategory,.CSItemConfigFixedL");)h=h.prev();r=h.data("v")}else u=h.is(".CSItemConfigFixedL")||h.is(".CSItemConfigFixedR")||h.is(".CSItemFixedL")||h.is(".CSItemFixedR")||h.is(".CSCategoryFixedL")||h.is(".CSCategoryFixedR"),o=u?h.is(".CSItemConfigFixedL")||h.is(".CSItemFixedL")||h.is(".CSCategoryFixedL")?"L":"R":null,r=h.data("v");if(l){for(f=y,s=$();f.next().find(">a").hasClass("CSItemWithUserCategory");)f=f.next(),s=s.add(f);s.each(function(){i=$(this).data("v");var n=c.columnsSelectorGetObjectByValue(i);u?(n.F=o,n.fixedL=n.F=="L",n.fixedR=!n.fixedL,c.updateColumnsSelectorValuesIndex(i,r)):(n.F="",n.fixedL=!1,n.fixedR=!1,c.updateColumnsSelectorValuesIndex(i,r));v<e&&(r=i)})}else t=c.columnsSelectorGetObjectByValue(i),u?(t.F=o,t.fixedL=t.F=="L",t.fixedR=!t.fixedL,c.updateColumnsSelectorValuesIndex(i,r)):(t.F="",t.fixedL=!1,t.fixedR=!1,c.updateColumnsSelectorValuesIndex(i,r));c.loadColumnsSelectorValues(n,c.ColumnsSelectorData_Aux);$(c.m_filterInput).val()!=""&&c.updateColumnsSelectorList(n,$(c.m_filterInput).val())});$(this).bind("dragend",function(){h!=null&&h.removeClass("WWPDragOverUp WWPDragOverDown");y.parent().find(">li").unbind("dragend dragover drop")})})}p=document.createElement("span");d=u;u=gx.getMessage(d);p.setAttribute("dsc",u);w&&l.setAttribute("sel","T");p.innerHTML=u;this.control.DropDownOptionsTitleSettingsIcons_IsFI?(k=document.createElement("i"),k.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[w?"muls":"mul"]),l.appendChild(k)):($(l).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[w?"MultiselSelOption":"MultiselOption"])+")"),$(l).css("background-repeat","no-repeat"),$(l).css("background-position","5px 60%"));l.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||l.setAttribute("data-toggle","dropdown");$(l).bind("click",function(t,i,r){return function(i){var o,e,f;if(r)if($(i.target).is("i:first-child"))for(var o=this.getAttribute("sel")=="T",s=$(this).parent().hasClass("CSFixableCategory"),u=$(this).parent().next();u.length==1&&(s&&!u.hasClass("CSFixableCategory")||!s&&u.find(">a").hasClass("CSItemWithUserCategory"));)u.is(".CSItemWithCategoryCollapsed,:visible")&&!u.find(">a").hasClass("CSCategory")&&u.find(">a")[0].getAttribute("sel")=="T"==o&&u.find(">a").click(),u=u.next();else{var u=$(this).parent().next(),h=$(this).parent().is(".CSCategoryCollapsed"),s=$(this).parent().hasClass("CSFixableCategory");for($(this).parent().toggleClass("CSCategoryCollapsed",!h);u.length==1&&(s&&!u.hasClass("CSFixableCategory")||!s&&u.find(">a").hasClass("CSItemWithUserCategory"));)u.toggleClass("CSItemWithCategoryCollapsed",!h),u=u.next();$(this).find(">i:last-child()")[0].setAttribute("class",c.control.DropDownOptionsTitleSettingsIcons[h?"tcol":"texp"])}else{if(o=this.getAttribute("sel")=="T",c.ColumnsSelectorData_Aux.Columns!=null&&c.ColumnsSelectorData_Aux.Columns.length>0){for(this.setAttribute("sel",o?"":"T"),f=0;f<c.ColumnsSelectorData_Aux.Columns.length;f+=1)if(c.ColumnsSelectorData_Aux.Columns[f].C==t){c.ColumnsSelectorData_Aux.Columns[f].V=!o;c.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",c.control.DropDownOptionsTitleSettingsIcons[o?"mul":"muls"]):$(this).css("background-image","url("+gx.util.resolveUrl(c.control.DropDownOptionsTitleSettingsIcons[o?"MultiselOption":"MultiselSelOption"])+")");break}}else if(o){for(this.setAttribute("sel",""),e=-1,f=0;f<c.ColumnsSelectorData_Aux.VisibleColumns.length;f+=1)if(c.ColumnsSelectorData_Aux.VisibleColumns[f].ColumnName==t){e=f;break}e>=0&&(c.ColumnsSelectorData_Aux.VisibleColumns.splice(e,1),c.ColumnsSelectorData_Aux.InvisibleColumns.push({ColumnName:t}),c.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",c.control.DropDownOptionsTitleSettingsIcons.mul):$(this).css("background-image","url("+gx.util.resolveUrl(c.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")"))}else{for(this.setAttribute("sel","T"),e=-1,f=0;f<c.ColumnsSelectorData_Aux.InvisibleColumns.length;f+=1)if(c.ColumnsSelectorData_Aux.InvisibleColumns[f].ColumnName==t){e=f;break}e>=0&&(c.ColumnsSelectorData_Aux.InvisibleColumns.splice(e,1),c.ColumnsSelectorData_Aux.VisibleColumns.push({ColumnName:t}),c.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",c.control.DropDownOptionsTitleSettingsIcons.muls):$(this).css("background-image","url("+gx.util.resolveUrl(c.control.DropDownOptionsTitleSettingsIcons.MultiselSelOption)+")"))}$(this).hasClass("CSItemWithUserCategory")&&c.columnsSelector_updateCategoryValue($(this).parent().prev(),!0)}c.columnsSelector_updateFixableCategoriesValues(n)}}(r,u,o));$(l).bind("click",function(n){n.preventDefault();n.stopPropagation()});l.appendChild(p);b!=null&&l.appendChild(b);a.appendChild(l);n.appendChild(a);w||o||!e||this.columnsSelector_updateCategoryValue($(a).prev())};this.columnsSelector_updateCategoryValue=function(n,t){while(n.find(">a").hasClass("CSItemWithUserCategory"))n=n.prev();for(var r=!0,i=n.next();i.length==1&&i.find(">a").hasClass("CSItemWithUserCategory");){if((!t||i.is(".CSItemWithCategoryCollapsed,:visible"))&&i.find(">a")[0].getAttribute("sel")!="T"){r=!1;break}i=i.next()}n.css("display","");n.find(">a")[0].setAttribute("sel",r?"T":"");this.control.DropDownOptionsTitleSettingsIcons_IsFI&&n.find(">a>i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[r?"muls":"mul"])};this.columnsSelector_updateFixableCategoriesValues=function(n,t){if($(n).hasClass("CSItemsFreezable")){for(var i=$(n.childNodes[0]),r=null,u=!0;i.length==1;)if(i.hasClass("CSFixableCategory"))r!=null&&(r.find(">a")[0].setAttribute("sel",u?"T":""),this.control.DropDownOptionsTitleSettingsIcons_IsFI&&r.find(">a>i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[u?"muls":"mul"])),r=i,i=i.next(),u=!0;else if((!t||i.is(".CSItemWithCategoryCollapsed,:visible"))&&i.find(">a")[0].getAttribute("sel")!="T")for(u=!1,i=i.next();i.length==1&&!i.hasClass("CSFixableCategory");)i=i.next();else i=i.next();r!=null&&(r.find(">a")[0].setAttribute("sel",u?"T":""),this.control.DropDownOptionsTitleSettingsIcons_IsFI&&r.find(">a>i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[u?"muls":"mul"]))}};this.IsValueEmpty=function(n){return n==""||this.IsDate()&&n.replace("/","").replace("/","").trim()==""||this.control.AllowMultipleSelection&&n=="[]"};this.minIndexForSelectedItemFirst=4;this.includeFirstSelectedItem=!1;this.reloadListFixedValuesOnDDOOpen=!1;this.LoadListFixedValues=function(n,t){var c,s,y,l,d,k,p,a,w,o,u,v,b,f,r;if(t?(c=n.childNodes[0],c.removeChild(c.childNodes[0])):(c=document.createElement("div"),c.className=this.control.AllowMultipleSelection?"FilterOptions FilterOptionsMultiSelection":"FilterOptions"),s=this.control.DataListFixedValues,s=WWP_replaceAll(s,"\\\\","[\\\\]"),s=WWP_replaceAll(s,"\\,","[\\\\\\]"),s.trim()==""&&(s="Error\\: Filter with Data List as 'Filter Values' must have a non empty Filter Value."),y=s.split(","),l=document.createElement("ul"),y.length>this.minIndexForSelectedItemFirst&&!this.control.AllowMultipleSelection){this.reloadListFixedValuesOnDDOOpen=!0;this.includeFirstSelectedItem=!0;var e=document.createElement("li"),i=document.createElement("a"),h=document.createElement("span");this.control.DropDownOptionsTitleSettingsIcons_IsFI?(f=document.createElement("i"),f.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo),i.appendChild(f)):($(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SelectedOption)+")"),$(i).css("background-repeat","no-repeat"),$(i).css("background-position","10px 60%"));$(e).css("display","none");i.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||i.setAttribute("data-toggle","dropdown");d=this;$(i).bind("click",function(){return function(){d.SetActiveEventKey("<#Filter#>")}}(null));this.control.OnOptionClicked&&$(i).bind("click",this.control.OnOptionClicked);i.appendChild(h);e.appendChild(i);l.appendChild(e)}else(this.control.IncludeFilter||this.control.AllowMultipleSelection)&&(this.reloadListFixedValuesOnDDOOpen=!0);for(k=0,p=0;p<y.length;p+=1){a=y[p];a=WWP_replaceAll(a,"[\\\\\\]",",");a=WWP_replaceAll(a,"\\:","[\\\\\\]");w=a.split(":");o=w[0];o=WWP_replaceAll(o,"[\\\\\\]",":");o=WWP_replaceAll(o,"[\\\\]","\\");w.length>1?(u=w[1],u=WWP_replaceAll(u,"[\\\\\\]",":"),u=WWP_replaceAll(u,"[\\\\]","\\")):u=o;var e=document.createElement("li"),i=document.createElement("a"),h=document.createElement("span"),g=u;if(u=gx.getMessage(g),h.setAttribute("dsc",u),v=!1,this.control.AllowMultipleSelection){for(b=0;b<this.SelectedValue_getAUX.length;b+=1)if(this.SelectedValue_getAUX[b]==o){v=!0;break}}else v=o==this.control.SelectedValue.trim();v?(i.setAttribute("sel","T"),this.control.AllowMultipleSelection?h.innerHTML=u:(h.innerHTML="<strong>"+u+"<\/strong>",this.includeFirstSelectedItem||(this.control.DropDownOptionsTitleSettingsIcons_IsFI?(f=document.createElement("i"),f.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo),i.appendChild(f)):($(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SelectedOption)+")"),$(i).css("background-repeat","no-repeat"),$(i).css("background-position","10px 60%"))))):h.innerHTML=u;this.control.AllowMultipleSelection&&(v?this.control.DropDownOptionsTitleSettingsIcons_IsFI?(f=document.createElement("i"),f.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.muls),i.appendChild(f)):$(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselSelOption)+")"):this.control.DropDownOptionsTitleSettingsIcons_IsFI?(f=document.createElement("i"),f.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.mul),i.appendChild(f)):$(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")"),$(i).css("background-repeat","no-repeat"),$(i).css("background-position","5px 60%"));i.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||i.setAttribute("data-toggle","dropdown");r=this;$(i).bind("click",function(n,t){return function(){var i,u;if(r.control.AllowMultipleSelection)if(this.getAttribute("sel")=="T"){for(this.setAttribute("sel",""),i=-1,u=0;u<r.SelectedValue_getAUX.length;u+=1)if(r.SelectedValue_getAUX[u]==n){i=u;break}i>=0&&(r.SelectedValue_getAUX.splice(i,1),r.SelectedText_getAUX.splice(i,1));r.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",r.control.DropDownOptionsTitleSettingsIcons.mul):$(this).css("background-image","url("+gx.util.resolveUrl(r.control.DropDownOptionsTitleSettingsIcons.MultiselOption)+")")}else this.setAttribute("sel","T"),r.SelectedValue_getAUX.push(n),r.SelectedText_getAUX.push(t),r.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",r.control.DropDownOptionsTitleSettingsIcons.muls):$(this).css("background-image","url("+gx.util.resolveUrl(r.control.DropDownOptionsTitleSettingsIcons.MultiselSelOption)+")");else r.SetActiveEventKey("<#Filter#>"),r.SetSelectedValue(n),r.SetSelectedText(t),r.SetFilteredText(""),r.control.FilterIsRange&&r.SetFilteredTextTo("")}}(o,u));this.control.AllowMultipleSelection?$(i).bind("click",function(n){n.preventDefault();n.stopPropagation()}):this.control.OnOptionClicked&&$(i).bind("click",this.control.OnOptionClicked);i.appendChild(h);e.appendChild(i);v&&this.control.AllowMultipleSelection&&y.length>this.minIndexForSelectedItemFirst?(l.insertBefore(e,l.childNodes[k]),k++):l.appendChild(e)}if(this.control.IncludeFilter){var e=document.createElement("li"),i=document.createElement("a"),h=document.createElement("span");h.innerHTML=gx.getMessage(this.control.NoResultsFound!=""?this.control.NoResultsFound:wwp.labels.NoResultsFound);$(e).css("display","none");i.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||i.setAttribute("data-toggle","dropdown");$(i).bind("click",function(n){n.preventDefault();n.stopPropagation()});i.appendChild(h);e.appendChild(i);l.appendChild(e)}c.appendChild(l);t||n.appendChild(c)};this.LoadFixedFilters=function(n){var c=document.createElement("div"),f,l,a,o,e,s,u,t,p,v,r;for(c.className="FilterOptions",f=this.control.FixedFilters,f=WWP_replaceAll(f,"\\\\","[\\\\]"),f=WWP_replaceAll(f,"\\,","[\\\\\\]"),l=f.split(","),a=document.createElement("ul"),o=0;o<l.length;o+=1){e=l[o];e=WWP_replaceAll(e,"[\\\\\\]",",");e=WWP_replaceAll(e,"\\:","[\\\\\\]");s=e.split(":");u=s[0];u=WWP_replaceAll(u,"[\\\\\\]",":");u=WWP_replaceAll(u,"[\\\\]","\\");s.length>1?(t=s[1],t=WWP_replaceAll(t,"[\\\\\\]",":"),t=WWP_replaceAll(t,"[\\\\]","\\")):t=u;var y=document.createElement("li"),i=document.createElement("a"),h=document.createElement("span");t=gx.getMessage(t);h.setAttribute("dsc",t);p=u==this.control.SelectedFixedFilter.trim();p?(i.setAttribute("sel","T"),h.innerHTML="<strong>"+t+"<\/strong>",this.includeFirstSelectedItem||(this.control.DropDownOptionsTitleSettingsIcons_IsFI?(v=document.createElement("i"),v.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo),i.appendChild(v)):($(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SelectedOption)+")"),$(i).css("background-repeat","no-repeat"),$(i).css("background-position","10px 60%")))):h.innerHTML=t;i.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||i.setAttribute("data-toggle","dropdown");r=this;$(i).bind("click",function(n){return function(){r.control.SelectedFixedFilter=n;r.control.IsM?r.SetActiveEventKeyFixedFilter_M():r.SetActiveEventKey("<#FixedFilter:"+n+"#>");r.SetSelectedValue("");r.SetSelectedText("");r.SetFilteredText("");r.control.FilterIsRange&&r.SetFilteredTextTo("")}}(u,t));$(i).bind("click",this.control.OnOptionClicked);i.appendChild(h);y.appendChild(i);a.appendChild(y)}c.appendChild(a);n.appendChild(c)};this.OnDDOClosing=function(){return $(".calendar:visible,.daterangepicker:visible").length>0?!1:this.calendarOpened?(this.calendarOpened=!1,!1):(this.control.FilterIsRangePicker?this.DetachAuxDateVariable(this.GetRangePickerFilterVariable()):(this.DetachAuxDateVariable(this.GetDateFilterVariable()+"_dp_container"),this.control.FilterIsRange&&this.DetachAuxDateVariable(this.GetDateFilterVariableTo()+"_dp_container")),!0)};this.OnDDOClosingRemoveError=function(){var n=$("#"+this.containerToDrawName).find(".Errorbtn");return n.length==1&&n.attr("data-gx-unprefixed-class")!=""&&n[0].nextSibling.tagName=="DIV"&&(n.attr("class",n.attr("data-gx-unprefixed-class")),$(n[0].nextSibling).remove()),!0};this.AttachAuxDateVariable=function(n,t,i,r,u){var o=$("#"+t+"_dp_container").detach(),f,e;return o.appendTo("#"+i),f=$("#"+t).get(0),$(f).prop("class","form-control AttributeDate").val(r),this.HasWWPDatePicker=typeof WWP_DatePicker_UC_on_Changed!="undefined",this.applyDateFocusHack=!0,this.HasWWPDatePicker?(this.DateVar_CalShownHandler==null&&(e=this,this.DateVar_CalShownHandler=function(){e.calendarOpened=!0}),$(".daterangepicker button").unbind("click",this.DateVar_CalShownHandler).bind("click",this.DateVar_CalShownHandler),$(f).unbind("outsideClick.daterangepicker",this.DateVar_CalShownHandler).bind("outsideClick.daterangepicker",this.DateVar_CalShownHandler)):($(f).unbind("click").bind("click",function(n){$(this).get(0).selectionStart=0;$(this).get(0).selectionEnd=0;$(this).select();n.preventDefault();n.stopPropagation()}),$(f).keydown(function(n){if(n.keyCode==13){n.preventDefault();n.stopPropagation();var t=document.getElementById(u);$(t).click();$(t).focus()}}),$("#"+t+"_dp_trigger").unbind("click"),$("#"+t+"_dp_trigger").bind("click",function(n){return function(){$(".calendar").css("z-index","1001");n.calendarOpened=!0}}(this))),$(f).blur(),f};this.AttachAuxRangePickerVariable=function(n,t,i,r,u,f){var h=$("#"+t).detach(),e,o,s;return h.appendTo("#"+i),e=$("#"+t).get(0),o=$(e).data("daterangepicker"),r!=""&&u!=""?($(e).val(r+" - "+u),o.elementChanged()):(o.setStartDate(new Date),o.setEndDate(new Date),o.isNullVal=!0,$(e).val("")),s=this,this.DateVar_CalShownHandler==null&&(this.DateVar_CalShownHandler=function(){s.calendarOpened=!0}),$(e).attr("placeholder",gx.getMessage(wwp.labels.RangePickerInviteMessage)).unbind("outsideClick.daterangepicker",this.DateVar_CalShownHandler).bind("outsideClick.daterangepicker",this.DateVar_CalShownHandler),$(".daterangepicker button").unbind("click",this.DateVar_CalShownHandler).bind("click",this.DateVar_CalShownHandler),$(e).unbind("click").bind("click",function(n){$(this).get(0).selectionStart=0;$(this).get(0).selectionEnd=0;$(this).select();n.preventDefault();n.stopPropagation();var t=$(s.m_filterInput).data("daterangepicker");t!=null&&t.show(n)}),$(e).keydown(function(n){if(n.keyCode==13){n.preventDefault();n.stopPropagation();var t=document.getElementById(f);$(t).click();$(t).focus()}}),e};this.CreateFilterInput=function(n,t,i,r,u,f,e,o){if(i.className="form-control Attribute",i.setAttribute("type","text"),i.setAttribute("maxlength","40"),f&&i.setAttribute("style","width: 125px;padding-right: 0px;height: 28px;float: right;"),this.control.DataListType!=null&&this.control.DataListType.indexOf("Dynamic")==0&&i.setAttribute("value",n==undefined?"":n),$(i).bind("click",function(n){n.preventDefault();n.stopPropagation()}),$(i).keydown(function(n){if(n.keyCode==13&&(n.preventDefault(),n.stopPropagation(),e!=null&&e!="")){var t=document.getElementById(e);$(t).click();document.getElementById(o).focus()}}),this.control.IncludeDataList||this.control.DropDownOptionsType=="GridColumnsSelector"||this.control.DropDownOptionsType=="ExtendedComboBox")$(i).on("input",function(n){return function(){n.myT!=null&&clearInterval(n.myT);n.myT=setInterval(function(){clearInterval(n.myT);n.control.DropDownOptionsType=="GridColumnsSelector"?n.updateColumnsSelectorList(t.childNodes[0].childNodes[0],$(i).val()):n.control.DropDownOptionsType=="ExtendedComboBox"?n.updateExtendedComboList(t.childNodes[0].childNodes[0],$(i).val()):n.control.DataListType=="Dynamic"?n.updateFilterList(t,r,u,!0):n.control.DataListType=="Dynamic (with fixedValues)"?(n.procResult==null&&n.updateFilterList(t,null,null,!0),n.ProcessProcResult(n.procResult,t,null,null,$(r).val(),!0)):n.control.FilterIsRange||n.updateFixedValuesList(t,i)},300)}}(this));this.control.FilterType=="Numeric"&&this.control.DataListType!="Dynamic (with fixedValues)"&&this.control.DataListType!="FixedValues"&&$(i).keypress(function(n){if(n.which!=8&&n.which!=0&&(n.which<48||n.which>57))return!1})};this.updateFixedValuesList=function(n,t){var i=$(t).val();this.updateFixedValuesList2(n,i)};this.updateFixedValuesList2=function(n,t){var f=n.childNodes[0].childNodes[0],c=0,p="",w=!1,e=0,l,b,o,h,a,u,v,y;for(this.includeFirstSelectedItem&&(e+=1),l=f.childNodes.length,b=this.control.DataListType.indexOf("Dynamic")==0,this.control.IncludeFilter&&(l-=1);e<l;e+=1){var s=f.childNodes[e].childNodes[0],i=$(s).find("span")[0],r=i.getAttribute("dsc");t!=null&&t.length>0?(o=WWP_removeAccents(r.toLowerCase()).indexOf(WWP_removeAccents(t.toLowerCase())),o>=0?(r=r.substring(0,o)+"<strong>"+r.substring(o,o+t.length)+"<\/strong>"+r.substring(o+t.length),u=i.getAttribute("dscSuffix"),i.innerHTML=u!=null?r+u:r,$(i.parentNode.parentNode).css("display",""),c++):$(i.parentNode.parentNode).css("display","none")):(h=s.getAttribute("sel")=="T",this.control.AllowMultipleSelection?($(i.parentNode.parentNode).css("display",""),u=i.getAttribute("dscSuffix"),i.innerHTML=u!=null?r+u:r,this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(s).find("i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[h?"muls":"mul"]):$(s).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[h?"MultiselSelOption":"MultiselOption"])+")")):h?(i.innerHTML="<strong>"+r+"<\/strong>",this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(i.parentNode).find("i").length>0?$(i.parentNode).find("i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo):(a=document.createElement("i"),a.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo),i.parentNode.insertBefore(a,i.parentNode.childNodes[0])):($(i.parentNode).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SelectedOption)+")"),$(i.parentNode).css("background-repeat","no-repeat"),$(i.parentNode).css("background-position","10px 60%")),e-1>=this.minIndexForSelectedItemFirst?($(i.parentNode.parentNode).css("display","none"),w=!0,p=i.innerHTML):$(i.parentNode.parentNode).css("display","")):(u=i.getAttribute("dscSuffix"),i.innerHTML=u!=null?r+u:r,$(i.parentNode.parentNode).css("display",""),e-1>=this.minIndexForSelectedItemFirst&&(this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(i.parentNode).find("i").remove():($(i.parentNode).css("background-image",""),$(i.parentNode).css("background-repeat",""),$(i.parentNode).css("background-position","")))),c++)}w?(v=f.childNodes[0],$(v).css("display",""),$(v).find("span")[0].innerHTML=p):this.includeFirstSelectedItem&&$(f.childNodes[0]).css("display","none");this.control.IncludeFilter&&(y=f.childNodes[f.childNodes.length-1],c==0?$(y).css("display",""):$(y).css("display","none"))};this.getAjaxCallRestURL=function(){return WWP_getAjaxCallRestURL(this.control.DataListProc)};this.getDataListProcParametersPrefix=function(){for(var n=this.control.DataListProcParametersPrefix;n.indexOf("#")>0;){var u=n.indexOf("#"),r=n.substring(u+1,u+1+n.substring(u+1).indexOf("#")),i=null,t=$("#"+r);this.control.IsGridItem&&t.length==0?(t=$("#"+r+this.realId.substring(this.realId.length-5)),t.length==1?i=t.val():(t=$("#span_"+r+this.realId.substring(this.realId.length-5)),t.length==1&&(i=t.text().trim()))):i=$("#"+r).val();i==null&&(i="0");n=n.replace("#"+r+"#",WWP_replaceAll(i,'"','\\"'))}return n};this.updateExtendedComboList=function(n,t){var r;if(this.control.DataListProc!=null&&this.control.DataListProc!="")if(n.innerHTML="",t.length>=this.control.DataListUpdateMinimumCharacters){$(this.m_loadingLi).css("display","");var i=this,u=this.getAjaxCallRestURL(),f=this.getDataListProcParametersPrefix();this.ajaxCall=$.ajax({"async":!0,type:"POST",url:u,headers:{Authorization:this.control.GAMOAuthToken},contentType:"application/json",data:"{"+f+', "SearchTxt": "'+t+'"}',success:function(r){var u=JSON.parse(r.Combo_DataJson);$(i.m_loadingLi).css("display","none");i.loadExtendedComboBoxItems(n,u,0,null,t.length>0);(u!=null&&u.length>0||i.control.IncludeAddNewOption)&&i.updateExtendedComboList2(n,t);i.control.IsGridItem?i.setSectionGridMinHeight(!0):i.shiftPageFooter(!0)},error:function(n,t,i){console.log("jqXHR statusCode"+n.statusCode());console.log("textStatus "+t);console.log("errorThrown "+i);n!=null&&n.status==401&&window.location.reload()}})}else r=[],this.loadExtendedComboBoxItems(n,r,0,null,!1),this.extendedComboBox_UpdateSelectAll_A(null);else this.updateExtendedComboList2(n,t)};this.updateExtendedComboList2=function(n,t){for(var h=0,y=n.childNodes.length,l=this.ExtendedComboBox_FilterSelected,u=-1,c,i,e,s,a;h<y;h+=1){c=n.childNodes[h];i=c.childNodes[0];i.removeAttribute("filtered");i.removeAttribute("filteredChildren");var v=$(i).find("span.OptionLabel")[0],r=i.getAttribute("dsc"),f,o=t!=null&&t.length>0;f=!1;o?(e=WWP_removeAccents(r.toLowerCase()).indexOf(WWP_removeAccents(t.toLowerCase())),i.hasAttribute("add-new-option")?(r=encodeHtmlEntities(r),f=!0):e>=0&&(!l||i.getAttribute("sel")=="T")?(r=encodeHtmlEntities(r.substring(0,e))+"<strong>"+encodeHtmlEntities(r.substring(e,e+t.length))+"<\/strong>"+encodeHtmlEntities(r.substring(e+t.length)),f=!0,this.control.CategoryFilteredBehaviour=="ShowAllChildren"&&(s=parseInt(i.getAttribute("level")),(u==-1||u>s)&&(u=s))):this.control.CategoryFilteredBehaviour=="ShowAllChildren"&&u!=-1&&(s=parseInt(i.getAttribute("level")),u<s?(f=!0,r=encodeHtmlEntities(r)):u=-1)):l&&i.getAttribute("sel")!="T"||(f=!0,r=encodeHtmlEntities(r));f?($(c).css("display",""),i.getAttribute("expanded")!=null&&(this.control.DropDownOptionsTitleSettingsIcons_IsFI?(a=$(i).find("i"),a[a.length-1].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[o?"texp":"tcol"])):$(i.childNodes[i.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[o?"TreeviewExpand":"TreeviewCollapse"])+")"),i.setAttribute("expanded",o?"false":"true")),(o||l)&&(i.setAttribute("filtered","true"),this.updateExtendedComboList_ShowParent(n,i,h))):$(c).css("display","none");v!=null&&(v.innerHTML=r)}this.control.AllowMultipleSelection&&(this.extendedComboBox_UpdateSelectAll_A(null),this.extendedComboBox_UpdateNodeWithChildrenSelection())};this.updateExtendedComboList_ShowParent=function(n,t,i){var f,u,r,e;if(t.getAttribute("level")!="0")for(f=parseInt(t.getAttribute("level"))-1,u=i-1;u>=0;u-=1)if(r=n.childNodes[u].childNodes[0],parseInt(r.getAttribute("level"))==f)if(r.setAttribute("filteredChildren","true"),this.control.DropDownOptionsTitleSettingsIcons_IsFI?(e=$(r).find("i"),e[e.length-1].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.tcol)):$(r.childNodes[r.childNodes.length-1]).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.TreeviewCollapse)+")"),r.setAttribute("expanded","true"),$(r.parentNode).css("display")=="none")$(r.parentNode).css("display",""),r.setAttribute("filtered","true"),f--;else break};this.updateColumnsSelectorList=function(n,t){for(var h=0,o=0,c=n.childNodes.length,f,s,e;o<c;o+=1){var i=n.childNodes[o].childNodes[0],u=$(i).find("span")[0],r=u.getAttribute("dsc");$(i).hasClass("CSCategory")||$(i).parent().hasClass("CSFixableCategory")?($(i).parent().removeClass("CSCategoryCollapsed"),$(i).find(">i:last-child()")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.tcol),$(i).parent().css("display",$(i).parent().hasClass("CSFixableCategory")?"":"none")):($(i).parent().removeClass("CSItemWithCategoryCollapsed"),t!=null&&t.length>0?(f=WWP_removeAccents(r.toLowerCase()).indexOf(WWP_removeAccents(t.toLowerCase())),f>=0?(r=r.substring(0,f)+"<strong>"+r.substring(f,f+t.length)+"<\/strong>"+r.substring(f+t.length),e=u.getAttribute("dscSuffix"),u.innerHTML=e!=null?r+e:r,$(u.parentNode.parentNode).css("display",""),$(i).hasClass("CSItemWithUserCategory")&&this.columnsSelector_updateCategoryValue($(i).parent().prev(),!0),h++):$(i).parent().css("display","none")):(s=i.getAttribute("sel")=="T",$(i).parent().css("display",""),e=u.getAttribute("dscSuffix"),u.innerHTML=e!=null?r+e:r,this.control.DropDownOptionsTitleSettingsIcons_IsFI?$(i).find("i")[0].setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[s?"muls":"mul"]):$(i).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[s?"MultiselSelOption":"MultiselOption"])+")"),$(i).hasClass("CSItemWithUserCategory")&&this.columnsSelector_updateCategoryValue($(i).parent().prev(),!0),h++))}this.columnsSelector_updateFixableCategoriesValues(n,!0)};this.DetachAuxDateVariable=function(n){var t=$("#"+n).detach();t.appendTo("#"+this.GetWebComponentPrefix()+(this.control.IsM?"DDO_"+this.control.MName:this.control.ControlName).toUpperCase()+"AUXDATES")};this.GetRangePickerFilterVariable=function(){return(this.dateFilterVarName==null||this.dateFilterVarName=="")&&(this.dateFilterVarName=this.GetWebComponentPrefix()+"v"+(this.control.IsM?"DDO_"+this.control.MName:this.control.ControlName).toUpperCase()+"AUXDATETEXT"),this.dateFilterVarName};this.GetDateFilterVariable=function(){return(this.dateFilterVarName==null||this.dateFilterVarName=="")&&(this.dateFilterVarName=this.GetWebComponentPrefix()+"v"+(this.control.IsM?"DDO_"+this.control.MName:this.control.ControlName).toUpperCase()+"AUXDATE"),this.dateFilterVarName};this.GetWebComponentPrefix=function(){return this.control.IsM?this.control.MControl.ContainerName.replace(this.control.MControl.ControlName.toUpperCase()+"Container",""):this.containerName.replace(this.control.ControlName.toUpperCase()+"Container","")};this.GetDateFilterVariableTo=function(){return this.GetDateFilterVariable()+"TO"};this.ajaxCall2;this.ajaxCall;this.procResult;this.updateFilterList=function(n,t,i,r){var s="",u="",f="",e=!0,o,h;this.control.DataListType!="Dynamic (with fixedValues)"&&this.control.IncludeFilter&&(t!=null?(s=$(t).val(),u=s,this.control.FilterType=="Character"&&u.length<this.control.DataListUpdateMinimumCharacters&&(e=!1),u!=null&&u.length>0&&(u=WWP_replaceAll(u,"\\","[\\]"),u=WWP_replaceAll(u,'"','\\"'),u=WWP_replaceAll(u,"[\\]","\\\\"))):(u="",this.control.FilterType=="Character"&&this.control.DataListUpdateMinimumCharacters>0&&(e=!1)),this.control.FilterIsRange&&(f=$(i).val(),!e&&f.length>=this.control.DataListUpdateMinimumCharacters&&(e=!0),f!=null&&f.length>0&&(f=WWP_replaceAll(f,"\\","[\\]"),f=WWP_replaceAll(f,'"','\\"'),f=WWP_replaceAll(f,"[\\]","\\\\"))));e?(this.addLoadingOption(n),this.control.TitleControlAlign=="Left"&&$(n).parent().css("margin-left","-"+($(n).parent().outerWidth()-$($(n).parent().parent().children()[0]).outerWidth())+"px"),o=this,h=this.getAjaxCallRestURL(),this.ajaxCall=$.ajax({"async":!0,type:"POST",url:h,headers:{Authorization:this.control.GAMOAuthToken},contentType:"application/json",data:'{"DDOName": "'+(this.control.IsM?"DDO_"+this.control.MName:this.control.ControlName)+'", "SearchTxt": "'+u+'", "SearchTxtTo": "'+f+'"}',success:function(u){u.Options=JSON.parse(u.OptionsJson);u.OptionsDesc=JSON.parse(u.OptionsDescJson);u.OptionIndexes=JSON.parse(u.OptionIndexesJson);o.control.DataListType=="Dynamic (with fixedValues)"&&(o.procResult=u);o.ProcessProcResult(u,n,t,i,s,r);o.setSectionGridMinHeight(!0)},error:function(n,t,i){console.log("jqXHR statusCode"+n.statusCode());console.log("textStatus "+t);console.log("errorThrown "+i);n!=null&&n.status==401&&window.location.reload()}})):n.innerHTML=""};this.addLoadingOption=function(n){var t,r,i;n.innerHTML="";t=document.createElement("a");r=document.createElement("span");r.innerHTML=gx.getMessage(this.control.LoadingData);$(t).bind("click",function(n){n.preventDefault();n.stopPropagation()});t.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||t.setAttribute("data-toggle","dropdown");t.className="image";this.control.DropDownOptionsTitleSettingsIcons_IsFI?(i=document.createElement("i"),i.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.fildata),t.appendChild(i)):(i=document.createElement("img"),i.setAttribute("src",gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.OptionFilteringData)),t.appendChild(i));t.appendChild(r);n.appendChild(t)};this.setSectionGridMinHeight=function(n){for(var r,i,f=$("#"+this.containerToDrawName),u=f[0].children[f[0].children.length-1],t=u.parentElement,e=0;e<18;e++)if(t!=null&&($(t).is("table.table-responsive")||$(t).css("overflow")!="auto"&&$(t).css("overflow-x")!="auto"))t=t.parentElement;else break;($(t).css("overflow")=="auto"||$(t).css("overflow-x")=="auto")&&(n?(f.hasClass("dropup")||(r=$(u).offset().top+$(u).outerHeight()+12-$(t).offset().top,$(t).css({"min-height":r+"px"}),hasScroll($(t),!1)&&(r+=getScrollBarWidth(),$(t).css({"min-height":r+"px"})),t.tagName=="TABLE"&&$(t).height()<r&&($(t).css({"margin-bottom":r-$(t).height()+"px"}),$(t).data("bottomSet","T"))),i=$(u).closest("th"),i.data("zIndexIncresed")==null&&parseInt(i.css("z-index"))>0&&(i.css("z-index",parseInt(i.css("z-index"))+100),i.data("zIndexIncresed","T"))):($(t).css({"min-height":""}),i=$(u).closest("th"),i.data("zIndexIncresed")=="T"&&(i.css("z-index",parseInt(i.css("z-index"))-100),i.data("zIndexIncresed",null)),$(t).data("bottomSet")=="T"&&($(t).css({"margin-bottom":""}),$(t).data("bottomSet",null))))};this.shiftPageFooter=function(n){var r=$("#"+this.containerToDrawName),i,t,u;r.hasClass("dropup")||(i=r[0].children[r[0].children.length-1],t=$(i).closest(".CellTableContentWithFooter"),t.length==1&&(t.parent().css("margin-bottom",""),n&&(u=$(i).offset().top+$(i).height()-(t.offset().top+t.height()),u>0&&t.parent().css("margin-bottom",u+5+"px"))))};this.getOptionCount=function(n,t,i){var o,s;this.getOptionCountResult=0;try{var e="",r="",u="",f=!0;this.control.DataListType!="Dynamic (with fixedValues)"&&this.control.IncludeFilter&&(i!=null?(e=n,r=e,this.control.FilterType=="Character"&&r.length<this.control.DataListUpdateMinimumCharacters&&(f=!1),r!=null&&r.length>0&&(r=WWP_replaceAll(r,"\\","[\\]"),r=WWP_replaceAll(r,'"','\\"'),r=WWP_replaceAll(r,"[\\]","\\\\"))):(r="",this.control.FilterType=="Character"&&this.control.DataListUpdateMinimumCharacters>0&&(f=!1)),this.control.FilterIsRange&&(u=n,!f&&u.length>=this.control.DataListUpdateMinimumCharacters&&(f=!0),u!=null&&u.length>0&&(u=WWP_replaceAll(u,"\\","[\\]"),u=WWP_replaceAll(u,'"','\\"'),u=WWP_replaceAll(u,"[\\]","\\\\"))));f?(o=this,s=this.getAjaxCallRestURL(),this.ajaxCall2=$.ajax({"async":!1,type:"POST",url:s,headers:{Authorization:this.control.GAMOAuthToken},contentType:"application/json",data:'{"DDOName": "'+(this.control.IsM?"DDO_"+this.control.MName:this.control.ControlName)+'", "SearchTxt": "'+r+'", "SearchTxtTo": "'+u+'"}',success:function(t){for(var r=JSON.parse(t.OptionsJson),u=JSON.parse(t.OptionIndexesJson),i=0;i<r.length;i+=1)if(r[i]==n){o.getOptionCountResult=u[i];return}},error:function(n,t,i){console.log("jqXHR statusCode"+n.statusCode());console.log("textStatus "+t);console.log("errorThrown "+i);n!=null&&n.status==401&&window.location.reload()}})):t.innerHTML=""}catch(h){}return this.getOptionCountResult};this.ProcessProcResult=function(n,t,i,r,u,f){var k,ht,g,s,ft,tt,y,c,o,ut,et,b,ot,st,h;f&&u==""&&(f=!1);k=document.createElement("div");k.className="FilterOptions";var p=document.createElement("ul"),v=!1,d=!this.IsValueEmpty(this.control.SelectedValue),l,it;if(this.control.AllowMultipleSelection&&(k.className="FilterOptions FilterOptionsMultiSelection",l=this.SelectedValue_getAUX.slice(0),it=this.SelectedValue_getAUX.length==this.SelectedText_getAUX.length?this.SelectedText_getAUX.slice(0):this.SelectedValue_getAUX.slice(0)),d&&!f&&n.Options!=null&&n.Options.length>0)if(this.control.AllowMultipleSelection){for(d=l.length>0,c=0;c<l.length;c+=1){for(v=!1,s=0;s<n.Options.length;s+=1)if(n.Options[s]==l[c]){v=!0;break}v&&(l.splice(c,1),it.splice(c,1),c--)}v=l.length==0}else for(s=0;s<n.Options.length;s+=1)if(n.Options[s]==this.control.SelectedValue){v=!0;break}if(ht=!1,n.Options==null&&(n.Options=[]),g=0,n.Options!=null&&n.Options.length>0||d&&!v&&!f)for((n.OptionsDesc==null||n.OptionsDesc.length==0)&&(n.OptionsDesc=n.Options),s=0,!d||v||f||(s=this.control.AllowMultipleSelection?l.length*-1:-1,g=s),ft=0;s<n.Options.length;s+=1){g+=1;var w=document.createElement("li"),e=document.createElement("a"),rt=document.createElement("span"),a,nt;if(s<0?this.control.AllowMultipleSelection?(a=l[0],nt=it[0],l.splice(0,1),it.splice(0,1)):(a=this.control.SelectedValue,nt=this.control.SelectedText!=null&&this.control.SelectedText!=""?this.control.SelectedText:a):(a=n.Options[s],nt=n.OptionsDesc[s].trim()),tt=this.control.DataListType=="Dynamic (with fixedValues)",y=!1,this.control.AllowMultipleSelection){for(c=0;c<this.SelectedValue_getAUX.length;c+=1)if(this.SelectedValue_getAUX[c]==a){y=!0;break}}else(d&&!tt||tt&&u=="")&&(y=a==this.control.SelectedValue);o=nt+"";ut=!1;o.length>100&&(o=o.substring(0,97).trim(),ut=!0);y?(ut&&(o+="..."),this.control.AllowMultipleSelection?e.setAttribute("sel","T"):(o="<strong>"+encodeHtmlEntities(o)+"<\/strong>",this.control.DropDownOptionsTitleSettingsIcons_IsFI?(et=document.createElement("i"),et.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons.selo),e.appendChild(et)):($(e).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons.SelectedOption)+")"),$(e).css("background-repeat","no-repeat"),$(e).css("background-position","10px 60%")))):u!=null&&u.length>0&&!this.control.FilterIsRange&&(this.control.FilterType=="Character"||tt)?(b=WWP_removeAccents(o.toLowerCase()).indexOf(WWP_removeAccents(u.toLowerCase())),b>=0?o=encodeHtmlEntities(o.substring(0,b))+"<strong>"+encodeHtmlEntities(o.substring(b,b+u.length))+"<\/strong>"+encodeHtmlEntities(o.substring(b+u.length)):tt&&(g-=1,$(w).css("display","none")),ut&&(o+="...")):o=encodeHtmlEntities(o);s<0?(ot=0,n.Options.length==50&&(ot=this.getOptionCount(a,t,i,r,f)),o=o.trim()+" ("+ot+")"):n.OptionIndexes.length==n.Options.length&&(o=o.trim()+" ("+n.OptionIndexes[s]+")");rt.innerHTML=o;e.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||e.setAttribute("data-toggle","dropdown");this.control.AllowMultipleSelection&&(this.control.DropDownOptionsTitleSettingsIcons_IsFI?(st=document.createElement("i"),st.setAttribute("class",this.control.DropDownOptionsTitleSettingsIcons[y?"muls":"mul"]),e.appendChild(st)):($(e).css("background-image","url("+gx.util.resolveUrl(this.control.DropDownOptionsTitleSettingsIcons[y?"MultiselSelOption":"MultiselOption"])+")"),$(e).css("background-repeat","no-repeat"),$(e).css("background-position","5px 60%")));h=this;$(e).bind("click",function(n,t){return function(){var e,u,f;if(h.control.AllowMultipleSelection){if(e=this.getAttribute("sel")=="T",e){for(this.setAttribute("sel",""),u=-1,f=0;f<h.SelectedValue_getAUX.length;f+=1)if(h.SelectedValue_getAUX[f]==n){u=f;break}u>=0&&(h.SelectedValue_getAUX.splice(u,1),h.SelectedText_getAUX.splice(u,1))}else this.setAttribute("sel","T"),h.SelectedValue_getAUX.push(n),h.SelectedText_getAUX.push(t);h.control.DropDownOptionsTitleSettingsIcons_IsFI?$(this).find("i")[0].setAttribute("class",h.control.DropDownOptionsTitleSettingsIcons[e?"mul":"muls"]):$(this).css("background-image","url("+gx.util.resolveUrl(h.control.DropDownOptionsTitleSettingsIcons[e?"MultiselOption":"MultiselSelOption"])+")")}else h.SetActiveEventKey("<#Filter#>"),h.SetFilteredText($(i).val()),h.SetSelectedValue(n),h.SetSelectedText(t),h.control.FilterIsRange&&h.SetFilteredTextTo($(r).val())}}(a,nt));this.control.AllowMultipleSelection?$(e).bind("click",function(n){n.preventDefault();n.stopPropagation()}):this.control.OnOptionClicked&&$(e).bind("click",this.control.OnOptionClicked);e.appendChild(rt);w.appendChild(e);y&&(this.control.AllowMultipleSelection||p.childNodes.length>0&&s>=this.minIndexForSelectedItemFirst)?(p.insertBefore(w,p.childNodes[ft]),this.control.AllowMultipleSelection&&ft++):p.appendChild(w)}if(g==0){var w=document.createElement("li"),e=document.createElement("a"),rt=document.createElement("span");rt.innerHTML=n.Options!=null&&n.Options.length==0&&n.OptionsDesc!=null&&n.OptionsDesc.length==1?n.OptionsDesc[0]:gx.getMessage(this.control.NoResultsFound!=""?this.control.NoResultsFound:wwp.labels.NoResultsFound);e.setAttribute("href",DDO_GetLocalURL());navigator.appVersion.toLowerCase().match("msie 8")||navigator.appVersion.toLowerCase().match("msie 7")||navigator.appVersion.toLowerCase().match("msie 9")||e.setAttribute("data-toggle","dropdown");$(e).bind("click",function(n){n.preventDefault();n.stopPropagation()});e.appendChild(rt);w.appendChild(e);p.appendChild(w)}ht||(t.innerHTML="",k.appendChild(p),t.appendChild(k));this.control.TitleControlAlign=="Automatic"?WWP_dropdownAutoPosition(null,"#"+this.containerToDrawName,this.m_UlDropDown,this.m_triggerButton):this.control.TitleControlAlign=="Left"&&$(t).parent().css("margin-left","-"+($(t).parent().outerWidth()-$($(t).parent().parent().children()[0]).outerWidth())+"px")};this.SetActiveEventKey=function(n){n=="<#Filter#>"&&(this.control.SelectedFixedFilter="",this.control.IsM&&(this.control.MControl.SelectedColumnFixedFilter="",this.control.MControl.UpdateColPropValueFromDDOs("SelectedFixedFilter")));this.control.ActiveEventKey=n;this.control.IsM&&(this.control.MControl.ActiveEventKey=n,this.control.MControl.SelectedColumn=this.control.MName)};this.SetActiveEventKeyFixedFilter_M=function(){var n="<#Filter#>";this.control.ActiveEventKey=n;this.control.MControl.ActiveEventKey=n;this.control.MControl.SelectedColumn=this.control.MName;this.control.MControl.SelectedColumnFixedFilter=this.control.SelectedFixedFilter;this.control.MControl.UpdateColPropValueFromDDOs("SelectedFixedFilter")};this.SetFilteredText=function(n){this.control.FilteredText_get=n!=null?n:"";this.control.FilteredText_set=this.control.FilteredText_get;this.control.FilteredText=this.control.FilteredText_get;this.control.IsM&&(this.control.MControl.FilteredText_get=this.control.FilteredText_get,this.control.MControl.UpdateColPropValueFromDDOs("FilteredText_set"))};this.SetFilteredTextTo=function(n){this.control.FilteredTextTo_get=n!=null?n:"";this.control.FilteredTextTo_set=this.control.FilteredTextTo_get;this.control.FilteredTextTo=this.control.FilteredTextTo_get;this.control.IsM&&(this.control.MControl.FilteredTextTo_get=this.control.FilteredTextTo_get,this.control.MControl.UpdateColPropValueFromDDOs("FilteredTextTo_set"))};this.SetSelectedValue=function(n){this.control.SelectedValue_get=n!=null?n:"";this.control.SelectedValue_set=this.control.SelectedValue_get;this.control.SelectedValue=this.control.SelectedValue_get;this.control.IsM&&(this.control.MControl.SelectedValue_get=this.control.SelectedValue_get,this.control.MControl.UpdateColPropValueFromDDOs("SelectedValue_set"))};this.SetSelectedText=function(n){this.control.SelectedText_get=n!=null?n:"";this.control.SelectedText_set=this.control.SelectedText_get;this.control.SelectedText=this.control.SelectedText_get;this.control.IsM&&(this.control.MControl.SelectedText_get=this.control.SelectedText_get,this.control.MControl.UpdateColPropValueFromDDOs("SelectedText_set"))};this.ShowHideControl=function(){this.control.Visible=="false"?$("#"+this.containerToDrawName).css("display","none"):$("#"+this.containerToDrawName).css("display","inline-block")}}function encodeHtmlEntities(n){return n.replace(/[\u00A0-\u9999<>\&]/gim,function(n){return"&#"+n.charCodeAt(0)+";"})}function cleanJsonString(n){return n=n.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),n.replace(/[\u0000-\u0019]+/g,"")}function createCookie(n,t,i){var r,u,f;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";f="_"+(location.pathname.split("/").length>=3?location.hostname+"_"+location.pathname.split("/")[1]:location.hostname);document.cookie=n+f+"="+t+u+"; path=/"}function readCookie(n){for(var t,f="_"+(location.pathname.split("/").length>=3?location.hostname+"_"+location.pathname.split("/")[1]:location.hostname),r=n+f+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function DDO_GetLocalURL(){return window.location.href.indexOf("#")>=0?window.location.href:"#"}function WWP_FixBooleanProperty(n){return n==!0||n=="true"}function WWP_removeAccents(n){return n==null?"":n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function WWP_transformParametersStyleToPositional(n){if(n!=null&&n.indexOf("=")>0&&n.indexOf("?")>0){var t=n.substring(n.indexOf("?")+1);for(n=n.substring(0,n.indexOf("?")+1);t.indexOf("=")>=0;)t=t.substring(t.indexOf("=")+1),t.indexOf("&")>=0?(n+=t.substring(0,t.indexOf("&"))+",",t=t.substring(t.indexOf("&")+1)):n+=t}return n};$(window).one('load',function(){WWP_VV([['DVPaginationBar','14.1000'],['GXBootstrap.SidebarMenu','14.0'],['GXBootstrap.Panel_AL','14.0'],['GXBootstrap.DDOGridTitleSettings','14.3'],['GXBootstrap.TagsInput','1.0'],['GXBootstrap.Panel','14.0'],['GXBootstrap.DDOGridColumnsSelector','14.1000'],['GXBootstrap.DDOGridTitleSettingsM','14.3'],['Bootstrap.Panel','1.2'],['GXBootstrap.DDOExtendedCombo','14.1000'],['Bootstrap.SidebarMenu','13.19'],['GXBootstrap.DropDownOptions','14.4'],['GXBootstrap.ConfirmPanel','14.3'],['Bootstrap.TabsPanel','1.2'],['Bootstrap.Tooltip','0'],['Bootstrap.ConfirmPanel','14.2'],['GXBootstrap.DDComponent','14.4'],['DVHorizontalMenu','14.1'],['Bootstrap.TagsInput','1.0'],['GXBootstrap.TabsPanel','14.1000'],['Bootstrap.DropDownOptions','14.0'],['GXBootstrap.DDORegular','14.4']]);});